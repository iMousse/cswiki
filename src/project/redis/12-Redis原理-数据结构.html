<!DOCTYPE html>
<html lang="zh-CN" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>知识小册子</title>
    <meta name="description" content="搭建个人的知识体系,一个好的知识体系和学习方法会让自己事半功倍">
    <meta name="generator" content="VitePress v1.0.0-rc.40">
    <link rel="preload stylesheet" href="/cswiki/assets/style.1gwXlvdp.css" as="style">
    
    <script type="module" src="/cswiki/assets/app.fqJVKc5g.js"></script>
    <link rel="preload" href="/cswiki/assets/inter-roman-latin.bvIUbFQP.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/cswiki/assets/chunks/framework.syB9hai_.js">
    <link rel="modulepreload" href="/cswiki/assets/chunks/theme.0YeLML2A.js">
    <link rel="modulepreload" href="/cswiki/assets/chunks/c4Diagram-0115bee6.hMmlOF0c.js">
    <link rel="modulepreload" href="/cswiki/assets/chunks/flowDiagram-786cd8ff.P46mrdTd.js">
    <link rel="modulepreload" href="/cswiki/assets/chunks/flowDiagram-v2-65161881.2-7X2JKz.js">
    <link rel="modulepreload" href="/cswiki/assets/chunks/erDiagram-de1b0455.FdakgD8m.js">
    <link rel="modulepreload" href="/cswiki/assets/chunks/gitGraphDiagram-5269e1d6.v5eGRztj.js">
    <link rel="modulepreload" href="/cswiki/assets/chunks/ganttDiagram-f2041c70.qSJ4wqaD.js">
    <link rel="modulepreload" href="/cswiki/assets/chunks/infoDiagram-3fa6ea12.zswgqVCy.js">
    <link rel="modulepreload" href="/cswiki/assets/chunks/pieDiagram-6d9582b9.5OpCDGLk.js">
    <link rel="modulepreload" href="/cswiki/assets/chunks/quadrantDiagram-a1c81500.86S7BvvX.js">
    <link rel="modulepreload" href="/cswiki/assets/chunks/requirementDiagram-3256a2fe.u4_ZCW7g.js">
    <link rel="modulepreload" href="/cswiki/assets/chunks/sequenceDiagram-25152a15.noLuHOLX.js">
    <link rel="modulepreload" href="/cswiki/assets/chunks/classDiagram-819d3ad4.15KWkB0f.js">
    <link rel="modulepreload" href="/cswiki/assets/chunks/classDiagram-v2-c4607319.wgzfQ3EC.js">
    <link rel="modulepreload" href="/cswiki/assets/chunks/stateDiagram-693ac5fb.F2-3YxU9.js">
    <link rel="modulepreload" href="/cswiki/assets/chunks/stateDiagram-v2-8f2bb0da.PkVxvIFI.js">
    <link rel="modulepreload" href="/cswiki/assets/chunks/journeyDiagram-9f355b40.HJ1ToXAh.js">
    <link rel="modulepreload" href="/cswiki/assets/chunks/flowchart-elk-definition-3f2388fe.h9pakVNr.js">
    <link rel="modulepreload" href="/cswiki/assets/chunks/timeline-definition-0c903a0d.OlAf8fq3.js">
    <link rel="modulepreload" href="/cswiki/assets/chunks/mindmap-definition-35a1e92c.LGhgU3IN.js">
    <link rel="modulepreload" href="/cswiki/assets/chunks/sankeyDiagram-ebb0d63f.LIF7MFvw.js">
    <link rel="modulepreload" href="/cswiki/assets/chunks/virtual_mermaid-config.AhCe4kHV.js">
    <link rel="modulepreload" href="/cswiki/assets/src_project_redis_12-Redis原理-数据结构.md.hN1W-Abs.lean.js">
    <link rel="icon" href="/favicon.ico">
    <meta name="author" content="mousse">
    <meta name="keywords" content="慕斯的知识小册子">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="theme-color" content="#3c8772">
    <meta property="og:type" content="website">
    <meta property="og:locale" content="zh_CN">
    <meta property="og:title" content="知识小册子">
    <meta property="og:description" content="搭建个人的知识体系,一个好的知识体系和学习方法会让自己事半功倍">
    <meta property="og:site_name" content="知识小册子">
    <meta property="og:image" content="/logo.svg">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-83d41759><!--[--><!--]--><!--[--><span tabindex="-1" data-v-40879362></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-40879362> Skip to content </a><!--]--><!----><header class="VPNav" data-v-83d41759 data-v-0b69728b><div class="VPNavBar has-sidebar" data-v-0b69728b data-v-0ec8604f><div class="wrapper" data-v-0ec8604f><div class="container" data-v-0ec8604f><div class="title" data-v-0ec8604f><div class="VPNavBarTitle has-sidebar" data-v-0ec8604f data-v-e5f52478><a class="title" href="/cswiki/" data-v-e5f52478><!--[--><!--]--><!--[--><img class="VPImage logo" src="/cswiki/logo.svg" alt data-v-22195471><!--]--><!--[-->知识小册子<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-0ec8604f><div class="content-body" data-v-0ec8604f><!--[--><!--]--><div class="VPNavBarSearch search" data-v-0ec8604f><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索文档"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-0ec8604f data-v-6ba9474d><span id="main-nav-aria-label" class="visually-hidden" data-v-6ba9474d>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/cswiki/" tabindex="0" data-v-6ba9474d data-v-5c7cab49><!--[--><span data-v-5c7cab49>📌 技术博客</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-6ba9474d data-v-8e60bb69><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8e60bb69><span class="text" data-v-8e60bb69><!----><span data-v-8e60bb69>📝 基础知识</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-8e60bb69><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-8e60bb69><div class="VPMenu" data-v-8e60bb69 data-v-32b6ed9e><div class="items" data-v-32b6ed9e><!--[--><!--[--><div class="VPMenuGroup" data-v-32b6ed9e data-v-8b276347><!----><!--[--><!--[--><div class="VPMenuLink" data-v-8b276347 data-v-d8ac4ebe><a class="VPLink link" href="/cswiki/src/base/java/index" data-v-d8ac4ebe><!--[-->☕️ Java基础<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8b276347 data-v-d8ac4ebe><a class="VPLink link" href="/cswiki/src/base/jvm/index" data-v-d8ac4ebe><!--[-->🖥 JVM入门<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8b276347 data-v-d8ac4ebe><a class="VPLink link" href="/cswiki/src/base/juc/index" data-v-d8ac4ebe><!--[-->🔥 并发编程<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8b276347 data-v-d8ac4ebe><a class="VPLink link" href="/cswiki/src/base/netty/index" data-v-d8ac4ebe><!--[-->🌐 网络编程<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-32b6ed9e data-v-8b276347><!----><!--[--><!--[--><div class="VPMenuLink" data-v-8b276347 data-v-d8ac4ebe><a class="VPLink link" href="/cswiki/src/base/alg/index" data-v-d8ac4ebe><!--[-->🧩 数据结构<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8b276347 data-v-d8ac4ebe><a class="VPLink link" href="/cswiki/src/base/gof/index" data-v-d8ac4ebe><!--[-->📝 设计模式<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-32b6ed9e data-v-8b276347><!----><!--[--><!--[--><div class="VPMenuLink" data-v-8b276347 data-v-d8ac4ebe><a class="VPLink link" href="/cswiki/src/base/mysql/index" data-v-d8ac4ebe><!--[-->📊 数据库<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8b276347 data-v-d8ac4ebe><a class="VPLink link" href="/cswiki/src/base/linux/index" data-v-d8ac4ebe><!--[-->👨‍💻 服务器<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8b276347 data-v-d8ac4ebe><a class="VPLink link" href="/cswiki/src/base/spring/index" data-v-d8ac4ebe><!--[-->🌱 Spring<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8b276347 data-v-d8ac4ebe><a class="VPLink link" href="/cswiki/src/base/cloud/index" data-v-d8ac4ebe><!--[-->☁️ 微服务<!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-6ba9474d data-v-8e60bb69><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-8e60bb69><span class="text" data-v-8e60bb69><!----><span data-v-8e60bb69>🛠️ 项目实战</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-8e60bb69><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-8e60bb69><div class="VPMenu" data-v-8e60bb69 data-v-32b6ed9e><div class="items" data-v-32b6ed9e><!--[--><!--[--><div class="VPMenuGroup" data-v-32b6ed9e data-v-8b276347><!----><!--[--><!--[--><div class="VPMenuLink" data-v-8b276347 data-v-d8ac4ebe><a class="VPLink link" href="/cswiki/src/project/redis/index" data-v-d8ac4ebe><!--[-->🔖️ 黑马点评<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8b276347 data-v-d8ac4ebe><a class="VPLink link" href="/cswiki/src/project/topnews/index" data-v-d8ac4ebe><!--[-->📰 黑马头条<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-32b6ed9e data-v-8b276347><!----><!--[--><!--[--><div class="VPMenuLink" data-v-8b276347 data-v-d8ac4ebe><a class="VPLink link" href="/cswiki/src/project/college/index" data-v-d8ac4ebe><!--[-->📚 天机学堂<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8b276347 data-v-d8ac4ebe><a class="VPLink link" href="/cswiki/src/project/express/index" data-v-d8ac4ebe><!--[-->🚚 神领物流<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8b276347 data-v-d8ac4ebe><a class="VPLink link" href="/cswiki/src/project/shop/index" data-v-d8ac4ebe><!--[-->🛒 谷粒商城<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-32b6ed9e data-v-8b276347><!----><!--[--><!--[--><div class="VPMenuLink" data-v-8b276347 data-v-d8ac4ebe><a class="VPLink link" href="/cswiki/src/project/takeout/index" data-v-d8ac4ebe><!--[-->🍜 谷粒外卖<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8b276347 data-v-d8ac4ebe><a class="VPLink link" href="/cswiki/src/project/health/index" data-v-d8ac4ebe><!--[-->🏄 谷粒健康<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8b276347 data-v-d8ac4ebe><a class="VPLink link" href="/cswiki/src/project/social/index" data-v-d8ac4ebe><!--[-->🧑‍🤝‍🧑 谷粒交友<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8b276347 data-v-d8ac4ebe><a class="VPLink link" href="/cswiki/src/project/rent/index" data-v-d8ac4ebe><!--[-->🏠 谷粒租房<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-8b276347 data-v-d8ac4ebe><a class="VPLink link" href="/cswiki/src/project/financial/index" data-v-d8ac4ebe><!--[-->📈 谷粒金融<!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/cswiki/src/base/summarize/index" tabindex="0" data-v-6ba9474d data-v-5c7cab49><!--[--><span data-v-5c7cab49>💼 面试宝典</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-0ec8604f data-v-f8a5715e><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-f8a5715e data-v-a55d2cd3 data-v-43317611><span class="check" data-v-43317611><span class="icon" data-v-43317611><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-a55d2cd3><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-a55d2cd3><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-0ec8604f data-v-9b69f4c1 data-v-0ed08415><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Charles7c/charles7c.github.io" aria-label="github" target="_blank" rel="noopener" data-v-0ed08415 data-v-c77ec717><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink no-icon" href="https://gitee.com/Charles7c/charles7c" aria-label target="_blank" rel="noopener" data-v-0ed08415 data-v-c77ec717><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>码云</title><path d="M11.984 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.016 0zm6.09 5.333c.328 0 .593.266.592.593v1.482a.594.594 0 0 1-.593.592H9.777c-.982 0-1.778.796-1.778 1.778v5.63c0 .327.266.592.593.592h5.63c.982 0 1.778-.796 1.778-1.778v-.296a.593.593 0 0 0-.592-.593h-4.15a.592.592 0 0 1-.592-.592v-1.482a.593.593 0 0 1 .593-.592h6.815c.327 0 .593.265.593.592v3.408a4 4 0 0 1-4 4H5.926a.593.593 0 0 1-.593-.593V9.778a4.444 4.444 0 0 1 4.445-4.444h8.296Z"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-0ec8604f data-v-b9614353 data-v-8e60bb69><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-8e60bb69><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-8e60bb69><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-8e60bb69><div class="VPMenu" data-v-8e60bb69 data-v-32b6ed9e><!----><!--[--><!--[--><!----><div class="group" data-v-b9614353><div class="item appearance" data-v-b9614353><p class="label" data-v-b9614353>切换日光/暗黑模式</p><div class="appearance-action" data-v-b9614353><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-b9614353 data-v-a55d2cd3 data-v-43317611><span class="check" data-v-43317611><span class="icon" data-v-43317611><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-a55d2cd3><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-a55d2cd3><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-b9614353><div class="item social-links" data-v-b9614353><div class="VPSocialLinks social-links-list" data-v-b9614353 data-v-0ed08415><!--[--><a class="VPSocialLink no-icon" href="https://github.com/Charles7c/charles7c.github.io" aria-label="github" target="_blank" rel="noopener" data-v-0ed08415 data-v-c77ec717><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><a class="VPSocialLink no-icon" href="https://gitee.com/Charles7c/charles7c" aria-label target="_blank" rel="noopener" data-v-0ed08415 data-v-c77ec717><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>码云</title><path d="M11.984 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.016 0zm6.09 5.333c.328 0 .593.266.592.593v1.482a.594.594 0 0 1-.593.592H9.777c-.982 0-1.778.796-1.778 1.778v5.63c0 .327.266.592.593.592h5.63c.982 0 1.778-.796 1.778-1.778v-.296a.593.593 0 0 0-.592-.593h-4.15a.592.592 0 0 1-.592-.592v-1.482a.593.593 0 0 1 .593-.592h6.815c.327 0 .593.265.593.592v3.408a4 4 0 0 1-4 4H5.926a.593.593 0 0 1-.593-.593V9.778a4.444 4.444 0 0 1 4.445-4.444h8.296Z"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-0ec8604f data-v-a6fa7f77><span class="container" data-v-a6fa7f77><span class="top" data-v-a6fa7f77></span><span class="middle" data-v-a6fa7f77></span><span class="bottom" data-v-a6fa7f77></span></span></button></div></div></div></div><div class="divider" data-v-0ec8604f><div class="divider-line" data-v-0ec8604f></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-83d41759 data-v-f4225638><div class="container" data-v-f4225638><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-f4225638><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-f4225638><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-f4225638>文章</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-f4225638 data-v-560fa4a6><button data-v-560fa4a6>返回顶部</button><!----></div></div></div><aside class="VPSidebar" data-v-83d41759 data-v-93fad516><div class="curtain" data-v-93fad516></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-93fad516><span class="visually-hidden" id="sidebar-aria-label" data-v-93fad516> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-93fad516><section class="VPSidebarItem level-0 collapsible has-active" data-v-93fad516 data-v-d1e013f8><div class="item" role="button" tabindex="0" data-v-d1e013f8><div class="indicator" data-v-d1e013f8></div><h2 class="text" data-v-d1e013f8>黑马点评</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-d1e013f8><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="caret-icon" data-v-d1e013f8><path d="M9,19c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l5.3-5.3L8.3,6.7c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l6,6c0.4,0.4,0.4,1,0,1.4l-6,6C9.5,18.9,9.3,19,9,19z"></path></svg></div></div><div class="items" data-v-d1e013f8><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d1e013f8 data-v-d1e013f8><div class="item" data-v-d1e013f8><div class="indicator" data-v-d1e013f8></div><a class="VPLink link link" href="/cswiki/src/project/redis/01-Redis%E5%9F%BA%E7%A1%80" data-v-d1e013f8><!--[--><p class="text" data-v-d1e013f8>Redis基础</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1" data-v-d1e013f8 data-v-d1e013f8><div class="item" role="button" tabindex="0" data-v-d1e013f8><div class="indicator" data-v-d1e013f8></div><h3 class="text" data-v-d1e013f8>Redis实战</h3><!----></div><div class="items" data-v-d1e013f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-d1e013f8 data-v-d1e013f8><div class="item" data-v-d1e013f8><div class="indicator" data-v-d1e013f8></div><a class="VPLink link link" href="/cswiki/src/project/redis/02-Redis%E5%AE%9E%E6%88%98-%E9%BB%91%E9%A9%AC%E7%82%B9%E8%AF%84" data-v-d1e013f8><!--[--><p class="text" data-v-d1e013f8>黑马点评</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d1e013f8 data-v-d1e013f8><div class="item" data-v-d1e013f8><div class="indicator" data-v-d1e013f8></div><a class="VPLink link link" href="/cswiki/src/project/redis/03-Redis%E5%AE%9E%E6%88%98-%E7%9F%AD%E4%BF%A1%E7%99%BB%E5%BD%95" data-v-d1e013f8><!--[--><p class="text" data-v-d1e013f8>短信登录</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d1e013f8 data-v-d1e013f8><div class="item" data-v-d1e013f8><div class="indicator" data-v-d1e013f8></div><a class="VPLink link link" href="/cswiki/src/project/redis/04-Redis%E5%AE%9E%E6%88%98-%E5%95%86%E6%88%B7%E6%9F%A5%E8%AF%A2" data-v-d1e013f8><!--[--><p class="text" data-v-d1e013f8>商户查询</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d1e013f8 data-v-d1e013f8><div class="item" data-v-d1e013f8><div class="indicator" data-v-d1e013f8></div><a class="VPLink link link" href="/cswiki/src/project/redis/05-Redis%E5%AE%9E%E6%88%98-%E4%BC%98%E6%83%A0%E5%88%B8%E7%A7%92%E6%9D%80" data-v-d1e013f8><!--[--><p class="text" data-v-d1e013f8>* 优惠券秒杀</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d1e013f8 data-v-d1e013f8><div class="item" data-v-d1e013f8><div class="indicator" data-v-d1e013f8></div><a class="VPLink link link" href="/cswiki/src/project/redis/06-Redis%E5%AE%9E%E6%88%98-%E8%BE%BE%E4%BA%BA%E6%8E%A2%E5%BA%97" data-v-d1e013f8><!--[--><p class="text" data-v-d1e013f8>达人探店</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d1e013f8 data-v-d1e013f8><div class="item" data-v-d1e013f8><div class="indicator" data-v-d1e013f8></div><a class="VPLink link link" href="/cswiki/src/project/redis/07-Redis%E5%AE%9E%E6%88%98-%E5%A5%BD%E5%8F%8B%E5%85%B3%E6%B3%A8" data-v-d1e013f8><!--[--><p class="text" data-v-d1e013f8>好友关注</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d1e013f8 data-v-d1e013f8><div class="item" data-v-d1e013f8><div class="indicator" data-v-d1e013f8></div><a class="VPLink link link" href="/cswiki/src/project/redis/08-Redis%E5%AE%9E%E6%88%98-%E9%99%84%E8%BF%91%E5%95%86%E6%88%B7" data-v-d1e013f8><!--[--><p class="text" data-v-d1e013f8>附近商户</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d1e013f8 data-v-d1e013f8><div class="item" data-v-d1e013f8><div class="indicator" data-v-d1e013f8></div><a class="VPLink link link" href="/cswiki/src/project/redis/09-Redis%E5%AE%9E%E6%88%98-%E7%94%A8%E6%88%B7%E7%AD%BE%E5%88%B0" data-v-d1e013f8><!--[--><p class="text" data-v-d1e013f8>用户签到</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d1e013f8 data-v-d1e013f8><div class="item" data-v-d1e013f8><div class="indicator" data-v-d1e013f8></div><a class="VPLink link link" href="/cswiki/src/project/redis/10-Redis%E5%AE%9E%E6%88%98-UV%E7%BB%9F%E8%AE%A1" data-v-d1e013f8><!--[--><p class="text" data-v-d1e013f8>UV统计</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-1 is-link" data-v-d1e013f8 data-v-d1e013f8><div class="item" data-v-d1e013f8><div class="indicator" data-v-d1e013f8></div><a class="VPLink link link" href="/cswiki/src/project/redis/11-Redis%E5%AE%9E%E8%B7%B5" data-v-d1e013f8><!--[--><p class="text" data-v-d1e013f8>* Redis实践</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 has-active" data-v-d1e013f8 data-v-d1e013f8><div class="item" role="button" tabindex="0" data-v-d1e013f8><div class="indicator" data-v-d1e013f8></div><h3 class="text" data-v-d1e013f8>* Redis原理</h3><!----></div><div class="items" data-v-d1e013f8><!--[--><div class="VPSidebarItem level-2 is-link" data-v-d1e013f8 data-v-d1e013f8><div class="item" data-v-d1e013f8><div class="indicator" data-v-d1e013f8></div><a class="VPLink link link" href="/cswiki/src/project/redis/12-Redis%E5%8E%9F%E7%90%86-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84" data-v-d1e013f8><!--[--><p class="text" data-v-d1e013f8>数据结构</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d1e013f8 data-v-d1e013f8><div class="item" data-v-d1e013f8><div class="indicator" data-v-d1e013f8></div><a class="VPLink link link" href="/cswiki/src/project/redis/13-Redis%E5%8E%9F%E7%90%86-%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B" data-v-d1e013f8><!--[--><p class="text" data-v-d1e013f8>网络模型</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-d1e013f8 data-v-d1e013f8><div class="item" data-v-d1e013f8><div class="indicator" data-v-d1e013f8></div><a class="VPLink link link" href="/cswiki/src/project/redis/14-Redis%E5%8E%9F%E7%90%86-%E5%86%85%E5%AD%98%E7%AD%96%E7%95%A5" data-v-d1e013f8><!--[--><p class="text" data-v-d1e013f8>内存策略</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-83d41759 data-v-7f2b530e><div class="VPDoc has-sidebar has-aside" data-v-7f2b530e data-v-7b451c74><!--[--><!--]--><div class="container" data-v-7b451c74><div class="aside" data-v-7b451c74><div class="aside-curtain" data-v-7b451c74></div><div class="aside-container" data-v-7b451c74><div class="aside-content" data-v-7b451c74><div class="VPDocAside" data-v-7b451c74 data-v-ae5a1c99><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-ae5a1c99 data-v-34b44e06><div class="content" data-v-34b44e06><div class="outline-marker" data-v-34b44e06></div><div class="outline-title" role="heading" aria-level="2" data-v-34b44e06>章节导航</div><nav aria-labelledby="doc-outline-aria-label" data-v-34b44e06><span class="visually-hidden" id="doc-outline-aria-label" data-v-34b44e06> Table of Contents for current page </span><ul class="VPDocOutlineItem root" data-v-34b44e06 data-v-ff6ff475><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-ae5a1c99></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-7b451c74><div class="content-container" data-v-7b451c74><!--[--><!--]--><main class="main" data-v-7b451c74><div style="position:relative;" class="vp-doc _cswiki_src_project_redis_12-Redis%E5%8E%9F%E7%90%86-%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84" data-v-7b451c74><div><nav class="table-of-contents"><ul><li><a href="#数据结构">数据结构</a><ul><li><a href="#sds">SDS</a></li><li><a href="#intset">IntSet</a><ul><li><a href="#intset升级">IntSet升级</a></li><li><a href="#insert新增流程">Insert新增流程</a></li><li><a href="#insert升级流程">Insert升级流程</a></li></ul></li><li><a href="#dict">Dict</a><ul><li><a href="#dict的扩容">Dict的扩容</a></li><li><a href="#dict的收缩">Dict的收缩</a></li><li><a href="#dict的rehash">Dict的rehash</a></li></ul></li><li><a href="#ziplist">ZipList</a><ul><li><a href="#ziplistentry">ZipListEntry</a></li><li><a href="#encoding编码">Encoding编码</a></li><li><a href="#连锁更新问题">连锁更新问题</a></li></ul></li><li><a href="#quicklist">QuickList</a></li><li><a href="#skiplist">SkipList</a></li><li><a href="#redisobject">RedisObject</a><ul><li><a href="#redis的编码方式">Redis的编码方式</a></li><li><a href="#五种数据结构">五种数据结构</a></li></ul></li><li><a href="#五种数据结构-1">五种数据结构</a><ul><li><a href="#string">String</a></li><li><a href="#list">List</a></li><li><a href="#set">Set</a></li><li><a href="#zset">ZSet</a></li><li><a href="#hash">Hash</a></li></ul></li></ul></li></ul></nav><br><div class="tip custom-block"><p class="custom-block-title">🔖 数据结构总结</p><p>SDS 产生的原因</p><ul><li>C 语言中的字符串获取长度需要运算，时间复杂度为 O(n)</li><li>字符中不能包含特殊字符，非二进制安全，需要通过结束标识读取数据。</li><li>一旦声明不可修改</li></ul><br><p>SDS 的特性</p><ul><li>获取字符串长度的时间复杂度为 O(1)</li><li>二进制安全，可以存放特殊标识。<strong>因为是按照长度读取数据，而不是按照结束标识读取数据。</strong></li><li>支持动态扩容，减少分配内存次数</li></ul><br><p>Intset 可以看做是特殊的整数数组，具备一些特点</p><ul><li>Redis 会确保 Intset 中的元素唯一、有序</li><li>具备类型升级机制，可以节省内存空间</li><li>底层采用二分查找方式来查询</li></ul><br><p>Dict 的特性</p><ul><li>类似 Java 的 HashTable，底层是数组加链表来解决哈希冲突</li><li>Dict 包含两个哈希表，ht[0] 平常用，ht[1] 用来 rehash</li></ul><br><p>Dict 的伸缩</p><ul><li>判断第一个哈希表 （dict.ht[0]） 的负载因子（LoadFactor = used / size）是否大于等于 1 并且没有后台进程，或负载因子大于 5，则扩容；若负载因子小于 0.1 则缩容。</li><li>如果扩容，则新 size 为第一个大于等于 used + 1 的 2^n^；如果缩容，则新 size 为小于等于 used 的 2^n^(最小为4)。并按照新的 size 申请内存空间，创建 dictht，并赋值给 dict.ht[1] <ul><li>举例：如果原先 size 为 4，used 为 5，则新 size 扩容为 8；如果原先 size 为 10，used 为 1，则新 size 缩容为 4；</li></ul></li><li>设置 dict.rehashidx = 0，标记开始 rehash。将 dict.ht[0] 中的每一个 dictEntry 都 rehash 到 dict.ht[1]。</li><li>将 dict.ht[1] 赋值给 dict.ht[0]，给 dict.ht[1] 初始化为空哈希表，并将 rehashidx 赋值为 -1，代表 rehash 结束。 <ul><li>rehash 是一个渐进式的 rehash。因为如果 Dict 包含数据量过多的 entry，要在一次 rehash 完成则极有可能造成主线程阻塞；所以 Dict 的 rehash 是分多次、渐进式完成。</li><li>rehash 过程中的新增操作直接写入 ht[1]，查询、修改和删除则会在 ht[0] 和 ht[1] 依次查找并执行。保证 ht[0] 只减不增，随着 rehash 最终结束。</li></ul></li></ul><br><p>ZipList 的特点</p><ul><li>压缩列表的可以看做一种连续内存空间的&quot;双向链表&quot;</li><li>列表的节点之间不是通过指针连接，而是记录上一节点和本节点长度来寻址，内存占用较低</li><li>如果列表数据过多，导致链表过长，可能影响查询性能</li><li>增或删较大数据时有可能发生连续更新问题，ListPack 解决了连续更新问题</li></ul><br><p>QuickList 的特点</p><ul><li>节点为 ZipList 的双端链表</li><li>节点采用 ZipList，解决了传统链表的内存占用问题</li><li>控制了 ZipList 大小，解决连续内存空间申请效率问题</li><li>中间节点可以压缩，进一步节省了内存</li></ul><br><p>SkipList 的特点</p><ul><li>跳跃表是一个双向链表，每个节点都包含 score 和 ele 值</li><li>节点按照 score 值排序，score 值一样则按照 ele 字典排序</li><li>每个节点都可以包含多层指针，层数是 1 到 32 之间的随机数</li><li>不同层指针到下一个节点的跨度不同，层级越高，跨度越大</li><li>增删改查效率与红黑树基本一致，实现却更简单</li></ul><br><p><strong>String</strong>：Redis 中最常见的数据存储类型</p><ul><li>基本编码为 OBJ_ENCODING_RAW，基于 SDS 实现，存储上限为 512 MB</li><li>如果存储 SDS 长度小于 44 字节则可以采用 OBJ_ENCODING_EMBSTR 编码，此时 object head 和 SDS 是一段连续的空间，效率更高。</li><li>如果存储的字符串是整数值，并且在 LONG_MAX 范围内，则会采用 OBJ_ENCODING_INT 编码，将字符串转换为 Long 类型后直接将数据保存在 RedisObject 的 ptr 指针位置，刚好为 8 字节。</li></ul><br><p><strong>List</strong>：Redis 的 List 结构类似一个双端链表，可以从首尾操作列表</p><ul><li>在 3.2 版本之前，Redis 采用 ZipList 和 LinkedList 来实现 List</li><li>在 3.2 版本之后，Redis 统一采用 QuickList 来实现 List</li></ul><br><p><strong>Set</strong>：Redis 中的集合，不一定确保元素有序，可以满足元素唯一、查询效率要求极高。</p><ul><li>为了查询效率和唯一性，Set 采用了 OBJ_ENCODING_HT 编码。Dict 的 Key 保存元素，Value 为 null</li><li>当存储所有的数据都是整数，并且元素不超过 512，采用 OBJ_ENCODING_INSET 编码节省内存</li></ul><br><p><strong>ZSet</strong>：Redis 中的 ZSet，可以满足键值存储、键必须唯一、可排序</p><ul><li>键值存储、键必须唯一可以采用 OBJ_ENCODING_HT 编码；可以排序，并且可以同时存储 score 和 element 采用 OBJ_ENCODING_SKIPLIST 实现。</li><li>当元素不多时，ZSet 采用 OBJ_ENCODING_ZIPLIST 节省内存；但由于 ZipList 没有排序功能，所以需要 ZSet 编码实现 <ul><li>score 和 element 是紧挨着的 entry ，element 在前，score 在后</li><li>按照 score 生序排列；score 越小越接近对首，score 越大越接近队尾</li></ul></li></ul><br><p><strong>Hash</strong>：Redis 中的 Hash 都是键值存储，并且键唯一，可以通过键获取值。</p><ul><li>Hash 结构默认采用 ZipList 编码，用以节省内存。 ZipList 中相邻的两个 Entry 分别保存 Field 和 Value</li><li>当数据量较大时，Hash 结构会转为 OBJ_ENCODING_HT。因为 ZipList 底层是连续的内存空间，这种结构节约内存，但不适合做修改，容易引发内存拷贝。</li></ul></div><h2 id="数据结构" tabindex="-1">数据结构 <a class="header-anchor" href="#数据结构" aria-label="Permalink to &quot;数据结构&quot;">​</a></h2><h3 id="sds" tabindex="-1">SDS <a class="header-anchor" href="#sds" aria-label="Permalink to &quot;SDS&quot;">​</a></h3><p>我们都知道 Redis 中保存的 Key 是字符串，Value 往往是字符串或者字符串的集合。可见字符串是 Redis 中最常用的一种数据结构。</p><br><p>不过 Redis 没有直接使用 C 语言中的字符串，因为 C 语言字符串存在很多问题：</p><ul><li><p>获取字符串长度的需要通过运算，时间复杂度 O(n)</p><div class="language-c vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">c</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// c语言，声明字符串</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">char*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> s </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;hello&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 本质是字符数组，并且带上结束标识 {&#39;h&#39;, &#39;e&#39;, &#39;l&#39;, &#39;l&#39;, &#39;o&#39;, &#39;\0&#39;}</span></span></code></pre></div></li><li><p>非二进制安全：通过结束标识读取数据，所以在字符中不能包含特殊字符。</p></li><li><p>不可修改</p></li></ul><br><p>Redis 构建了一种新的字符串结构，称为简单动态字符串（<strong>S</strong>imple <strong>D</strong>ynamic <strong>S</strong>tring），简称SDS。</p><p>例如，我们执行命令：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">127.0.0.1:6379&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set name 慕斯</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">OK</span></span></code></pre></div><p>那么 Redis 将在底层创建两个 SDS，其中一个是包含 “name” 的 SDS，另一个是包含 “慕斯” 的 SDS。</p><br><p>Redis 是 C 语言实现的，其中 SDS 是一个结构体，源码如下：</p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315143634713.png" alt="image-20240315143634713" loading="lazy"></p><br><p>例如，一个包含字符串 <code>name</code> 的 SDS 结构如下：</p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315161319498.png" alt="image-20240315161319498" loading="lazy"></p><br><p>SDS 之所以叫做动态字符串，是因为它具备动态扩容的能力，例如一个内容为 <code>hi</code> 的 SDS：</p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315161347086.png" alt="image-20240315161347086" style="zoom:50%;"><br><p>假如我们要给 SDS 追加一段字符串 <code>,Amy</code>，这里首先会申请新内存空间：</p><ul><li>如果新字符串小于 1M，则新空间为扩展后字符串长度的两倍 +1；</li><li>如果新字符串大于 1M，则新空间为扩展后字符串长度 +1M+1。称为<strong>内存预分配</strong>。 <ul><li>注意：+1 是要带上的结束标识。</li></ul></li></ul><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315161435077.png" alt="image-20240315161435077" loading="lazy"></p><br><div class="tip custom-block"><p class="custom-block-title">📌 SDS 数据的优点</p><ul><li>获取字符串长度的时间复杂度为 O(1)</li><li>支持动态扩容，减少分配内存次数</li><li>二进制安全，可以存放特殊标识。<strong>因为是按照长度读取数据，而不是按照结束标识读取数据。</strong></li></ul></div><br><h3 id="intset" tabindex="-1">IntSet <a class="header-anchor" href="#intset" aria-label="Permalink to &quot;IntSet&quot;">​</a></h3><p>IntSet 是 Redis 中 Set 集合的一种实现方式，基于整数数组来实现，并且具备长度可变、有序等特征。</p><p><strong>结构如下</strong></p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315144039690.png" alt="image-20240315144039690" loading="lazy"></p><br><p>其中的 encoding 包含三种模式，表示存储的整数大小不同：</p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315144054030.png" alt="image-20240315144054030" loading="lazy"></p><br><p>为了方便查找，Redis 会将 intset 中所有的整数<strong>按照升序</strong>依次保存在 contents 数组中，结构如图：</p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315161449022.png" alt="image-20240315161449022" loading="lazy"></p><p>现在，数组中每个数字都在 <code>int16_t</code> 的范围内，因此采用的编码方式是 <code>INTSET_ENC_INT16</code>，每部分占用的字节大小为：</p><ul><li>encoding：4字节</li><li>length：4字节</li><li>contents：2字节 * 3 = 6字节</li></ul><blockquote><p>💡思考：为什么 contents 都采用相同的字节存储数据。<strong>方便根据角标查询数据。</strong></p></blockquote><br><h4 id="intset升级" tabindex="-1">IntSet升级 <a class="header-anchor" href="#intset升级" aria-label="Permalink to &quot;IntSet升级&quot;">​</a></h4><p>现在，假设有一个 intset，元素为 [5，10，20]，采用的编码是 INTSET_ENC_INT16，则每个整数占 2 字节：</p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315161504954.png" alt="image-20240315161504954" loading="lazy"></p><p>我们向该其中添加一个数字：50,000，这个数字超出了 int16_t 的范围，intset 会自动<!---->编码方式到合适的大小。</p><br><p>以当前案例来说流程如下：</p><ul><li><p>升级编码为 <!---->, 每个整数占 4字节，并按照新的编码方式及元素个数扩容数组</p></li><li><p><strong>倒序</strong>依次将数组中的元素拷贝到扩容后的正确位置</p></li></ul><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315161517606.png" alt="image-20240315161517606" loading="lazy"></p><ul><li>将待添加的元素放入数组末尾</li></ul><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315161529373.png" alt="image-20240315161529373" loading="lazy"></p><ul><li>最后，将 inset 的 encoding 属性改为INTSET_ENC_INT32，将 length 属性改为 4</li></ul><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315161540277.png" alt="image-20240315161540277" loading="lazy"><br></p><blockquote><p>💡 思考：为什么要倒序一次将数组中的元素拷贝到正确位置。</p><p>因为正序扩容会将后面的数据覆盖，而倒序则不会覆盖数据。</p></blockquote><br><h4 id="insert新增流程" tabindex="-1">Insert新增流程 <a class="header-anchor" href="#insert新增流程" aria-label="Permalink to &quot;Insert新增流程&quot;">​</a></h4><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315144530223.png" alt="image-20240315144530223" loading="lazy"></p><br><h4 id="insert升级流程" tabindex="-1">Insert升级流程 <a class="header-anchor" href="#insert升级流程" aria-label="Permalink to &quot;Insert升级流程&quot;">​</a></h4><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315144538221.png" alt="image-20240315144538221" loading="lazy"></p><br><div class="warning custom-block"><p class="custom-block-title">💡总结：Intset 可以看做是特殊的整数数组，具备一些特点</p><ul><li>Redis 会确保 Intset 中的元素唯一、有序</li><li>具备类型升级机制，可以节省内存空间</li><li>底层采用二分查找方式来查询</li></ul></div><br><h3 id="dict" tabindex="-1">Dict <a class="header-anchor" href="#dict" aria-label="Permalink to &quot;Dict&quot;">​</a></h3><p>我们知道Redis是一个键值型（Key-Value Pair）的数据库，我们可以根据键实现快速的增删改查。而键与值的映射关系正是通过Dict来实现的。</p><p>Dict由三部分组成，分别是：哈希表（DictHashTable）、哈希节点（DictEntry）、字典（Dict）</p><p><strong>DictHashTable</strong>、<strong>DictEntry</strong></p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315144804052.png" alt="image-20240315144804052" loading="lazy"></p><p>注意：union 结构是一个泛型，4个数据只能满足一个。</p><br><p>当我们向 Dict 添加键值对时，Redis 首先根据 key 计算出 hash 值（h），然后利用 h &amp; sizemask 来计算元素应该存储到数组中的哪个索引位置。我们存储 k1 = v1 ，假设 k1 的哈希值 h = 1，则 1 &amp; 3 = 1，因此k1 = v1要存储到数组角标1位置。</p><blockquote><p>注意：2^n -1 可以使用与运算 &amp; 代替取模 % 运算，效率更高</p></blockquote><br><p>k1 和 k2 哈希冲突的情况，直接往队首添加更方便，不需要遍历链表</p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315161711074.png" alt="image-20240315161711074" loading="lazy"></p><br><p><strong>Dict</strong></p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315145257633.png" alt="image-20240315145257633" loading="lazy"></p><br><p><strong>结构展示</strong></p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315161727721.png" alt="image-20240315161727721" loading="lazy"></p><br><h4 id="dict的扩容" tabindex="-1">Dict的扩容 <a class="header-anchor" href="#dict的扩容" aria-label="Permalink to &quot;Dict的扩容&quot;">​</a></h4><p>Dict 中的 HashTable 就是数组结合单向链表的实现，当集合中元素较多时，必然导致哈希冲突增多，链表过长，则查询效率会大大降低。</p><p>Dict 在每次新增键值对时都会检查<strong>负载因子</strong>（LoadFactor = used / size） ，满足以下两种情况时会触发<strong>哈希表扩容</strong>：</p><ul><li>哈希表的 LoadFactor &gt;= 1，并且服务器没有执行 <code>BGSAVE</code> 或者 <code>BGREWRITEAOF</code> 等后台进程；</li><li>哈希表的 LoadFactor &gt; 5 ；</li></ul><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315145359792.png" alt="image-20240315145359792" loading="lazy"></p><br><h4 id="dict的收缩" tabindex="-1">Dict的收缩 <a class="header-anchor" href="#dict的收缩" aria-label="Permalink to &quot;Dict的收缩&quot;">​</a></h4><p>Dict除了扩容以外，每次删除元素时，也会对负载因子做检查，当LoadFactor &lt; 0.1 时，会做哈希表收缩：</p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315145411909.png" alt="image-20240315145411909" loading="lazy"></p><br><h4 id="dict的rehash" tabindex="-1">Dict的rehash <a class="header-anchor" href="#dict的rehash" aria-label="Permalink to &quot;Dict的rehash&quot;">​</a></h4><p>不管是扩容还是收缩，必定会创建新的哈希表，导致哈希表的 size 和 sizemask 变化，而 key 的查询与sizemask 有关。因此必须对哈希表中的每一个 key 重新计算索引，插入新的哈希表，这个过程称为rehash。过程是这样的：</p><ol><li><p>计算新 hash表的 realeSize，值取决于当前要做的是扩容还是收缩：</p><ul><li>如果是扩容，则新 size 为第一个大于等于 dict.ht[0].used + 1 的 2^n^</li></ul><ul><li>如果是收缩，则新 size 为第一个大于等于 dict.ht[0].used 的 2^n^ （不得小于4）</li></ul></li><li><p>按照新的 realeSize 申请内存空间，创建 dictht，并赋值给 dict.ht[1]</p></li><li><p>设置 dict.rehashidx = 0，标示开始 rehash</p></li><li><p>将 dict.ht[0] 中的每一个dictEntry 都 rehash 到 dict.ht[1]</p></li><li><p>将 dict.ht[1] 赋值给 dict.ht[0]，给 dict.ht[1] 初始化为空哈希表，释放原来的 dict.ht[0] 的内存</p></li><li><p>将 rehashidx 赋值为 -1，代表 rehash 结束</p></li></ol><br><p><strong>流程示意图</strong></p><p>需要扩容的数据 k5，v5</p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240322161254317.png" alt="image-20240322161254317" loading="lazy"></p><br><p>重新计算 hash 表的 realeSize，扩容为 8，按照新的 realeSize 申请内存空间，创建 dictht，并赋值给 dict.ht[1]</p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240322162042571.png" alt="image-20240322162042571" loading="lazy"></p><br><p>设置 dict.rehashidx = 0，标示开始 rehash，将 dict.ht[0] 中的每一个 dictEntry 都 rehash 到 dict.ht[1]</p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240322162151796.png" alt="image-20240322162151796" loading="lazy"></p><br><p>将 dict.ht[1] 赋值给 dict.ht[0]，给 dict.ht[1] 初始化为空哈希表，释放原来的 dict.ht[0] 的内存，将 rehashidx 赋值为 -1，代表 rehash 结束</p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240322162456812.png" alt="image-20240322162456812" loading="lazy"></p><br><p><strong>特别注意</strong></p><p>Dict 的 rehash 并不是一次性完成的。试想一下，如果 Dict 中包含数百万的 entry，要在一次 rehash 完成，极有可能导致主线程阻塞。因此 Dict 的 rehash 是分多次、渐进式的完成，因此称为 <!---->。流程如下：</p><p>1.计算新 hash 表的 realeSize，值取决于当前要做的是扩容还是收缩：</p><ul><li>如果是扩容，则新 size 为第一个大于等于 dict.ht[0].used + 1 的2^n^</li></ul><ul><li>如果是收缩，则新 size 为第一个大于等于 dict.ht[0].used 的 2^n^（不得小于4）</li></ul><p>2.按照新的 realeSize 申请内存空间，创建 dictht，并赋值给 dict.ht[1]</p><p>3.设置 dict.rehashidx = 0，标示开始 rehash</p><p><s>4.将 dict.ht[0] 中的每一个dictEntry 都 rehash 到 dict.ht[1]</s></p><!----><p>5.将 dict.ht[1] 赋值给 dict.ht[0]，给 dict.ht[1] 初始化为空哈希表，释放原来的 dict.ht[0] 的内存</p><p>6.将 rehashidx 赋值为 -1，代表 rehash 结束</p><p>7.在 rehash 过程中，新增操作，则直接写入 ht[1]，查询、修改和删除则会在 dict.ht[0] 和 dict.ht[1] 依次查找并执行。这样可以确保 ht[0] 的数据只减不增，随着 rehash 最终为空</p><br><div class="warning custom-block"><p class="custom-block-title">💡 总结：Dict的结构</p><ul><li>类似 Java 的 HashTable，底层是数组加链表来解决哈希冲突</li><li>Dict 包含两个哈希表，ht[0] 平常用，ht[1] 用来rehash</li></ul><p><strong>Dict 的伸缩</strong></p><ul><li><p>判断第一个哈希表 （dict.ht[0]） 的负载因子（LoadFactor = used / size）是否大于等于 1 并且没有后台进程，或负载因子大于 5，则扩容；若负载因子小于 0.1 则缩容。</p></li><li><p>如果扩容，则新 size 为第一个大于等于 used + 1 的 2^n^；如果缩容，则新 size 为小于等于 used 的 2^n^(最小为4)。并按照新的 size 申请内存空间，创建 dictht，并赋值给 dict.ht[1]</p><ul><li>举例：如果原先 size 为 4，used 为 5，则新 size 扩容为 8；如果原先 size 为 10，used 为 1，则新 size 缩容为 4；</li></ul></li><li><p>设置 dict.rehashidx = 0，标记开始 rehash。将 dict.ht[0] 中的每一个 dictEntry 都 rehash 到 dict.ht[1]。</p></li><li><p>将 dict.ht[1] 赋值给 dict.ht[0]，给 dict.ht[1] 初始化为空哈希表，并将 rehashidx 赋值为 -1，代表 rehash 结束。</p><ul><li>rehash 是一个渐进式的 rehash。因为如果 Dict 包含数据量过多的 entry，要在一次 rehash 完成则极有可能造成主线程阻塞；所以 Dict 的 rehash 是分多次、渐进式完成。</li><li>rehash 过程中的新增操作直接写入 ht[1]，查询、修改和删除则会在 ht[0] 和 ht[1] 依次查找并执行。保证 ht[0] 只减不增，随着 rehash 最终结束。</li></ul></li></ul></div><br><h3 id="ziplist" tabindex="-1">ZipList <a class="header-anchor" href="#ziplist" aria-label="Permalink to &quot;ZipList&quot;">​</a></h3><p>ZipList 是一种特殊的“双端链表” ，由一系列特殊编码的<strong>连续内存块</strong>组成。可以在任意一端进行压入/弹出操作, 并且该操作的时间复杂度为 O(1)。</p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315161810757.png" alt="image-20240315161810757" loading="lazy"></p><br><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315145653044.png" alt="image-20240315145653044" loading="lazy"></p><p><strong>用途</strong></p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-169355136195436.png" alt="image-169355136195436" loading="lazy"></p><br><h4 id="ziplistentry" tabindex="-1">ZipListEntry <a class="header-anchor" href="#ziplistentry" aria-label="Permalink to &quot;ZipListEntry&quot;">​</a></h4><p>ZipList 中的 Entry 并不像普通链表那样记录前后节点的指针，<mark>因为记录两个指针要占用16个字节，浪费内存</mark>。而是采用了下面的结构：</p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315145719866.png" alt="image-20240315145719866" loading="lazy"></p><ul><li>previous_entry_length：前一节点的长度，占 1 个或 5 个字节。 <ul><li>如果前一节点的长度小于 254 字节，则采用 1 个字节来保存这个长度值</li><li>如果前一节点的长度大于 254 字节，则采用 5 个字节来保存这个长度值，第一个字节为 0xfe，后四个字节才是真实长度数据</li></ul></li><li>encoding：编码属性，记录 conten t的数据类型（字符串还是整数）以及长度，占用1个、2个或5个字节</li><li>contents：负责保存节点的数据，可以是字符串或整数</li></ul><br><div class="warning custom-block"><p class="custom-block-title">注意：ZipList 中所有存储长度的数值均采用小端字节序，即低位字节在前，高位字节在后。</p><ul><li>例如：数值0x1234，采用小端字节序后实际存储值为：0x3412</li></ul></div><br><h4 id="encoding编码" tabindex="-1">Encoding编码 <a class="header-anchor" href="#encoding编码" aria-label="Permalink to &quot;Encoding编码&quot;">​</a></h4><p>ZipListEntry 中的 encoding 编码分为字符串和整数两种：</p><p>字符串：如果 encoding 是以“00”、“01”或者“10”开头，则证明 content 是字符串</p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315145925835.png" alt="image-20240315145925835" loading="lazy"></p><br><p>例如，我们要保存字符串：“ab”和 “bc”</p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240325093439335.png" alt="image-20240325093439335" loading="lazy"></p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315145808955.png" alt="image-20240315145808955" loading="lazy"></p><p>ZipListEntry 中的 encoding 编码分为字符串和整数两种：</p><ul><li>整数：如果 encoding 是以“11”开始，则证明 content 是整数，且 encoding 固定只占用1个字节</li></ul><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315150009641.png" alt="image-20240315150009641" loading="lazy"></p><br><p>例如，一个 ZipList 中包含两个整数值：“2”和“5”</p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315145955973.png" alt="image-20240315145955973" loading="lazy"></p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315150021007.png" alt="image-20240315150021007" loading="lazy"></p><br><h4 id="连锁更新问题" tabindex="-1">连锁更新问题 <a class="header-anchor" href="#连锁更新问题" aria-label="Permalink to &quot;连锁更新问题&quot;">​</a></h4><p>ZipList 的每个 Entry 都包含 previous_entry_length 来记录上一个节点的大小，长度是 1 个或 5 个字节：</p><ul><li>如果前一节点的长度小于 254 字节，则采用 1 个字节来保存这个长度值</li><li>如果前一节点的长度大于等于 254 字节，则采用 5 个字节来保存这个长度值，第一个字节为 0xfe，后四个字节才是真实长度数据</li></ul><p>现在，假设我们有N个连续的、长度为 250~253 字节之间的 entry，因此 entry 的 previous_entry_length 属性用 1 个字节即可表示。</p><br><p><strong>如图所示</strong></p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240325095912433.png" alt="image-20240325095912433" loading="lazy"></p><p>在队首新增一个 254 bytes 数据</p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315150051486.png" alt="image-20240315150051486" loading="lazy"></p><p>ZipList 这种特殊情况下产生的连续多次空间扩展操作称之为连锁更新（Cascade Update）。新增、删除都可能导致连锁更新的发生。</p><br><div class="warning custom-block"><p class="custom-block-title">💡 总结：ZipList特性</p><ul><li>压缩列表的可以看做一种连续内存空间的&quot;双向链表&quot;</li><li>列表的节点之间不是通过指针连接，而是记录上一节点和本节点长度来寻址，内存占用较低</li><li>如果列表数据过多，导致链表过长，可能影响查询性能</li><li>增或删较大数据时有可能发生连续更新问题，ListPack 解决了连续更新问题</li></ul></div><br><h3 id="quicklist" tabindex="-1">QuickList <a class="header-anchor" href="#quicklist" aria-label="Permalink to &quot;QuickList&quot;">​</a></h3><p>问题1：ZipList 虽然节省内存，但申请内存必须是连续空间，如果内存占用较多，申请内存效率很低。怎么办？</p><p>​ 答：为了缓解这个问题，我们必须限制 ZipList 的长度和 entry 大小。</p><p>问题2：但是我们要存储大量数据，超出了 ZipList 最佳的上限该怎么办？</p><p>​ 答：我们可以创建多个 ZipList 来分片存储数据。</p><p>问题3：数据拆分后比较分散，不方便管理和查找，这多个 ZipList 如何建立联系？</p><p>​ 答：Redis 在 3.2 版本引入了新的数据结构 QuickList，它是一个双端链表，只不过链表中的每个节点都是一个 ZipList。</p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315150119317.png" alt="image-20240315150119317" loading="lazy"></p><br><p>为了避免QuickList中的每个 ZipList 中 entry 过多，Redis 提供了一个配置项：<code>list-max-ziplist-size</code> 来限制。</p><p>如果值为正，则代表 ZipList 的允许的 entry 个数的最大值。如果值为负，则代表 ZipList 的最大内存大小，分 5 种情况：</p><ul><li>-1：每个ZipList的内存占用不能超过4kb</li><li>-2：每个ZipList的内存占用不能超过8kb</li><li>-3：每个ZipList的内存占用不能超过16kb</li><li>-4：每个ZipList的内存占用不能超过32kb</li><li>-5：每个ZipList的内存占用不能超过64kb</li></ul><br><p>其默认值为 -2</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">127.0.0.1:6379&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config get list-max-ziplist-size</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;list-max-ziplist-size&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;-2&quot;</span></span></code></pre></div><br><p>除了控制 ZipList 的大小，QuickList 还可以对节点的 ZipList 做压缩。通过配置项 <code>list-compress-depth </code>来控制。因为链表一般都是从首尾访问较多，所以首尾是不压缩的。这个参数是控制首尾不压缩的节点个数：</p><ul><li>0：特殊值，代表不压缩</li><li>1：标示 QuickList 的首尾各有 1 个节点不压缩，中间节点压缩</li><li>2：标示 QuickList 的首尾各有 2 个节点不压缩，中间节点压缩以此类推</li></ul><br><p>默认值</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">127.0.0.1:6379&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config get list-compress-depth</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;list-compress-depth&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0&quot;</span></span></code></pre></div><br><p>以下是QuickList的和QuickListNode的结构源码：</p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315151008380.png" alt="image-20240315151008380" loading="lazy"></p><br><p>我们接下来用一段流程图来描述当前的这个结构</p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315151018603.png" alt="image-20240315151018603" loading="lazy"></p><br><div class="warning custom-block"><p class="custom-block-title">总结：QuickList 的特点</p><ul><li>是一个节点为 ZipList 的双端链表</li><li>节点采用 ZipList，解决了传统链表的内存占用问题</li><li>控制了 ZipList 大小，解决连续内存空间申请效率问题</li><li>中间节点可以压缩，进一步节省了内存</li></ul></div><br><h3 id="skiplist" tabindex="-1">SkipList <a class="header-anchor" href="#skiplist" aria-label="Permalink to &quot;SkipList&quot;">​</a></h3><p>SkipList（跳表）首先是链表，但与传统链表相比有几点差异：</p><ul><li>元素按照升序排列存储</li><li>节点可能包含多个指针，指针跨度不同。</li></ul><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315151034097.png" alt="image-20240315151034097" loading="lazy"></p><br><p><strong>源码展示</strong></p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315151119583.png" alt="image-20240315151119583" loading="lazy"></p><br><p><strong>流程一</strong></p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315151129803.png" alt="image-20240315151129803" loading="lazy"></p><br><p><strong>流程二</strong></p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315151137883.png" alt="image-20240315151137883" loading="lazy"></p><br><p><strong>流程三</strong></p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315151150609.png" alt="image-20240315151150609" loading="lazy"></p><br><p><strong>流程四</strong></p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315151206877.png" alt="image-20240315151206877" loading="lazy"></p><br><div class="warning custom-block"><p class="custom-block-title">💡总结：SkipList 的特点</p><ul><li>跳跃表是一个双向链表，每个节点都包含 score 和 ele 值</li><li>节点按照 score 值排序，score 值一样则按照 ele 字典排序</li><li>每个节点都可以包含多层指针，层数是 1 到 32 之间的随机数</li><li>不同层指针到下一个节点的跨度不同，层级越高，跨度越大</li><li>增删改查效率与红黑树基本一致，实现却更简单</li></ul></div><br><h3 id="redisobject" tabindex="-1">RedisObject <a class="header-anchor" href="#redisobject" aria-label="Permalink to &quot;RedisObject&quot;">​</a></h3><p>Redis 中的任意数据类型的键和值都会被封装为一个 RedisObject，也叫做 Redis 对象，源码如下：</p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315151347625.png" alt="image-20240315151347625" loading="lazy"></p><p>指针在 32 位计算机中占 4 个字节，因为指针的本身的值就是内存地址，只有 4 字节才能完整的表示 32 位的内存地址。但是由于 32 位计算机内存最大空间为 2^32^ = 4 GB，有时并不满足内存的使用。所以出现了在64 位计算机，需要 8 个字节才能完整表示 64 位的内存地址。但是 2^64^，这是个很大的值，而物理内存达不到这么大，CPU要实现 64 位的寻址能力只会增加系统复杂度和地址转换成本，因此 Windows 和 Linux 都做了限制，仅仅使用虚拟地址的 48 位，2^48^ = 256 TB。但是指针的占用内存字节数还是8 （只是 Windows 和 Linux 下，低48位有效而已）.</p><br><blockquote><p>思考：什么是 RedisObject ?</p></blockquote><p>从 Redis 的使用者的角度来看，⼀个 Redis 节点包含多个 database（非 cluster 模式下默认是16个，cluster 模式下只能是1个），而一个 Database 维护了从 Key Space 到 Object Space 的映射关系。这个映射关系的 Key 是 String 类型，⽽ Value 可以是多种数据类型，</p><p>比如：String、List、Hash、Set、Sorted Set 等。我们可以看到，Key 的类型固定是 String，而 Value 可能的类型是多个。</p><p>⽽从 Redis 内部实现的⾓度来看，Database 内的这个映射关系是用⼀个 Dict 来维护的。Dict 的 Key 固定用⼀种数据结构来表达就够了，这就是动态字符串 SDS。而 Value 则比较复杂，为了在同⼀个 Dict 内能够存储不同类型的 Value，这就需要⼀个通⽤的数据结构，这个通用的数据结构就是 robj，全名是 RedisObject。</p><br><h4 id="redis的编码方式" tabindex="-1">Redis的编码方式 <a class="header-anchor" href="#redis的编码方式" aria-label="Permalink to &quot;Redis的编码方式&quot;">​</a></h4><p>Redis中会根据存储的数据类型不同，选择不同的编码方式，共包含11种不同类型：</p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-169355136195443.png" alt="image-169355136195443" loading="lazy"></p><br><h4 id="五种数据结构" tabindex="-1">五种数据结构 <a class="header-anchor" href="#五种数据结构" aria-label="Permalink to &quot;五种数据结构&quot;">​</a></h4><p>Redis中会根据存储的数据类型不同，选择不同的编码方式。每种数据类型的使用的编码方式如下：</p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-169355136195444.png" alt="image-169355136195444" loading="lazy"></p><br><h3 id="五种数据结构-1" tabindex="-1">五种数据结构 <a class="header-anchor" href="#五种数据结构-1" aria-label="Permalink to &quot;五种数据结构&quot;">​</a></h3><h4 id="string" tabindex="-1">String <a class="header-anchor" href="#string" aria-label="Permalink to &quot;String&quot;">​</a></h4><p>String 是 Redis 中最常见的数据存储类型：</p><ul><li>其基本编码方式是 RAW，基于简单动态字符串（SDS）实现，存储上限为 512MB。</li><li>如果存储的 SDS 长度小于 44 字节，则会采用 EMBSTR 编码，此时 object head 与 SDS 是一段连续空间。<mark>申请内存时只需要调用一次内存分配函数，效率更高。</mark></li><li>如果存储的字符串是整数值，并且大小在 LONG_MAX 范围内，则会采用 INT 编码：直接将数据保存在 RedisObject 的 ptr 指针位置（刚好 8 字节），不再需要SDS了。</li></ul><p><strong>底层实现⽅式</strong>：动态字符串 SDS 或者 Long</p><br><div class="warning custom-block"><p class="custom-block-title">💡思考：为什么 SDS 的长度小于 44 字节，而不采用其他字节。</p><p>RedisObject 的头占用 16 字节，SDS 数据为 44 字节，SDS 长度和申请的总字节数各占一个字节，SDS 头类型用一个字节标识，最后一个符号位用一个字节，合起来刚好位 64，为2^8^。刚好为一个内存大小，分配时不会产生内存碎片。</p></div><br><p>String 的内部存储结构⼀般是 SDS（<strong>S</strong>imple Dynamic <strong>S</strong>tring，可以动态扩展内存），但是如果⼀个 String类型的 Value 的值是数字，那么 Redis 内部会把它转成 Long 类型来存储，从⽽减少内存的使用。</p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315152525889.png" alt="image-20240315152525889" loading="lazy"></p><br><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315152513788.png" alt="image-20240315152513788" loading="lazy"></p><br><p>确切地说，String 在 Redis 中是⽤⼀个 robj 来表示的。</p><p>用来表示 String 的 robj 可能编码成3种内部表⽰：</p><ul><li>OBJ_ENCODING_RAW</li><li>OBJ_ENCODING_EMBSTR</li><li>OBJ_ENCODING_INT</li></ul><p>其中前两种编码使⽤的是 SDS 来存储，最后⼀种 OBJ_ENCODING_INT 编码直接把 String 存成了Long 型。</p><br><div class="tip custom-block"><p class="custom-block-title">💡String 进行自增操作的原理</p><p>在对 String 进行 incr, decr 等操作的时候，如果它内部是 OBJ_ENCODING_INT 编码，那么可以直接行加减操作；如果它内部是 OBJ_ENCODING_RAW 或 OBJ_ENCODING_EMBSTR 编码，那么Redis 会先试图把 SDS 存储的字符串转成 Long 型，如果能转成功，再进行加减操作。对⼀个内部表示成 Long 型的 String 执行 append, setbit, getrange 这些命令，针对的仍然是 String 的值（即⼗进制表示的字符串），而不是针对内部表⽰的 Long 型进⾏操作。比如字符串 ”32” ，如果按照字符数组来解释，它包含两个字符，它们的 ASCII 码分别是 0x33 和 0x32 。当我们执行命令 <code>setbit key 7 0</code> 的时候，相当于把字符 0x33 变成了0x32，这样字符串的值就变成了”22”。⽽如果将字符串”32”按照内部的 64 位 Long 型来解释，那么它是 0x0000000000000020，在这个基础上执⾏ setbit 位操作，结果就完全不对了。因此，在这些命令的实现中，会把 Long 型先转成字符串再进行相应的操作。</p></div><br><h4 id="list" tabindex="-1">List <a class="header-anchor" href="#list" aria-label="Permalink to &quot;List&quot;">​</a></h4><p>Redis 的 List 类型可以从首、尾操作列表中的元素：</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">127.0.0.1:6379&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> LPUSH l1 e3 e2 e1 # 从 head 写入</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">integer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) 3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">127.0.0.1:6379&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RPUSH l1 e4 e5 e6 # 从 tail 写入</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">integer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) 6</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">127.0.0.1:6379&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> LRANGE l1 </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">	# 范围获取</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;e1&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;e2&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;e3&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;e4&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;e5&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">6</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;e6&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">127.0.0.1:6379&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> LPOP l1 </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  # 从 head 取</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;e1&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">127.0.0.1:6379&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RPOP l1 </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  # 从 tail 取</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;e6&quot;</span></span></code></pre></div><p>哪一个数据结构能满足上述特征？</p><ul><li>LinkedList ：普通链表，可以从双端访问，内存占用较高，内存碎片较多</li><li>ZipList ：压缩列表，可以从双端访问，内存占用低，存储上限低</li><li>QuickList：LinkedList + ZipList，可以从双端访问，内存占用较低，包含多个 ZipList，存储上限高</li></ul><br><p>Redis 的 List 结构类似一个双端链表，可以从首、尾操作列表中的元素：</p><ul><li><p>在 3.2 版本之前，Redis 采用 ZipList 和 LinkedList 来实现 List，当元素数量小于 512 并且元素大小小于 64 字节时采用 ZipList 编码，超过则采用 LinkedList 编码。</p></li><li><p>在 3.2 版本之后，Redis 统一采用 QuickList 来实现 List</p></li></ul><br><p><strong>源码展示</strong></p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315153403755.png" alt="image-20240315153403755" loading="lazy"></p><br><p><strong>数据结构</strong></p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315153358601.png" alt="image-20240315153358601" loading="lazy"></p><br><h4 id="set" tabindex="-1">Set <a class="header-anchor" href="#set" aria-label="Permalink to &quot;Set&quot;">​</a></h4><p>Set 是 Redis 中的单列集合，满足下列特点：</p><ul><li>不保证有序性</li><li>保证元素唯一</li><li>求交集、并集、差集</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">127.0.0.1:6379&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> SADD s1 m1 m2 m3</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">integer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) 3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">127.0.0.1:6379&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> SADD s2 m2 m3 m4</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">integer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) 3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">127.0.0.1:6379&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> SISMEMBER S1 m1  # 判断元素是否存在</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">integer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) 0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">127.0.0.1:6379&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> SINTER s1 s2     # 求交集</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;m2&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;m3&quot;</span></span></code></pre></div><p>可以看出，Set 对查询元素的效率要求非常高，思考一下，什么样的数据结构可以满足？</p><ul><li>HashTable，也就是 Redis 中的 Dict，不过 Dict 是双列集合（可以存键、值对）</li></ul><br><p>Set 是 Redis 中的集合，不一定确保元素有序，可以满足元素唯一、查询效率要求极高。</p><ul><li>为了查询效率和唯一性，Set 采用 HT 编码（Dict）。Dict 中的 Key 用来存储元素，Value 统一为 null</li><li>当存储的所有数据都是整数，并且元素数量不超过 set-max-intset-entries 时，Set 会采用 IntSet 编码，以节省内存 <ul><li>set-max-intset-entries 的默认值是 512</li></ul></li></ul><br><p><strong>源码展示</strong></p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315155258069.png" alt="image-20240315155258069" loading="lazy"></p><br><p><strong>结构如下</strong></p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240325142215776.png" alt="image-20240325142215776" loading="lazy"></p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240325142258890.png" alt="image-20240325142258890" loading="lazy"></p><br><h4 id="zset" tabindex="-1">ZSet <a class="header-anchor" href="#zset" aria-label="Permalink to &quot;ZSet&quot;">​</a></h4><p>ZSet 也就是 SortedSet，其中每一个元素都需要指定一个 Score 值和 Member 值：</p><ul><li>可以根据 Score 值排序后</li><li>Member 必须唯一</li><li>可以根据 Member 查询分数</li></ul><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">127.0.0.1:6379&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ZADD z1 </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> m1 </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> m2 </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> m3</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">integer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) 3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">127.0.0.1:6379&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ZSCORE z1 m1 # 根据member查询分数</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;10&quot;</span></span></code></pre></div><br><p>因此，Zset 底层数据结构必须满足<mark>键值存储、键必须唯一、可排序</mark>这几个需求。之前学习的哪种编码结构可以满足？</p><ul><li>SkipList：可以排序，并且可以同时存储 Score 和 ele值（member）</li><li>HT（Dict）：可以键值存储，并且可以根据 Key 找 Value</li></ul><br><p><strong>源码展示</strong></p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315155639854.png" alt="image-20240315155639854" loading="lazy"></p><br><p><strong>数据结构</strong></p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315155654680.png" alt="image-20240315155654680" loading="lazy"></p><br><p>当元素数量不多时，HT 和 SkipList 的优势不明显，而且更耗内存。因此 Zset 还会采用 ZipList 结构来节省内存，不过需要同时满足两个条件：</p><ul><li>元素数量小于 zset_max_ziplist_entries，默认值 128</li><li>每个元素都小于 zset_max_ziplist_value 字节，默认值 64</li></ul><br><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315155805345.png" alt="image-20240315155805345" loading="lazy"></p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315155822660.png" alt="image-20240315155822660" style="zoom:50%;"><br><p>Ziplist 本身没有排序功能，而且没有键值对的概念，因此需要有 Zset 通过编码实现：</p><ul><li>ZipList 是连续内存，因此 Score 和 Element 是紧挨在一起的两个 Entry， Element 在前，Score 在后</li><li>Score 越小越接近队首，Score 越大越接近队尾，按照 Score 值升序排列</li></ul><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315155845189.png" alt="image-20240315155845189" loading="lazy"></p><br><h4 id="hash" tabindex="-1">Hash <a class="header-anchor" href="#hash" aria-label="Permalink to &quot;Hash&quot;">​</a></h4><p>hash结构如下</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">127.0.0.1:6379&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> HSET user:1 name Jack age </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">21</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">integer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) 2</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">127.0.0.1:6379&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> HGET user:1 name  # 根据 field 获取 value</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;Jack&quot;</span></span></code></pre></div><p>zset集合如下</p><div class="language-sh vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sh</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">127.0.0.1:6379&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ZADD z1 </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> m1 </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> m2 </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">30</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> m3</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">integer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) 3</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">127.0.0.1:6379&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ZSCORE z1 m1 # 根据member查询分数</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">&quot;10&quot;</span></span></code></pre></div><br><p>Hash 结构与 Redis 中的 Zset 非常类似：</p><ul><li>都是键值存储</li><li>都需求根据键获取值</li><li>键必须唯一</li></ul><p>区别如下：</p><ul><li>Zset 的键是 Member，值是 Score；Hash 的键和值都是任意值</li><li>Zset 要根据 Score 排序；Hash 则无需排序</li></ul><br><p>因此，Hash 底层采用的编码与 Zset 也基本一致，只需要把排序有关的 SkipList 去掉即可：</p><ul><li><p>Hash 结构默认采用 ZipList 编码，用以节省内存。 ZipList 中相邻的两个 Entry 分别保存 Field 和 Value</p></li><li><p>当数据量较大时，Hash 结构会转为HT编码，也就是 Dict，触发条件有两个：</p><ul><li>ZipList 中的元素数量超过了 hash-max-ziplist-entries（默认512）</li><li>ZipList 中的任意 Entry 大小超过了 hash-max-ziplist-value（默认64字节）</li></ul></li></ul><br><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315160556831.png" alt="image-20240315160556831" loading="lazy"></p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315160651164.png" alt="image-20240315160651164" loading="lazy"></p><br><p>Redis 的 Hash 之所以这样设计，是因为当 Ziplist 变得很⼤的时候，它有如下几个缺点：</p><ul><li>每次插⼊或修改引发的 realloc 操作会有更⼤的概率造成内存拷贝，从而降低性能。</li><li>⼀旦发生内存拷贝，内存拷贝的成本也相应增加，因为要拷贝更⼤的⼀块数据。</li><li>当 Ziplist 数据项过多的时候，在它上⾯查找指定的数据项就会性能变得很低，因为 Ziplist 上的查找需要进行遍历。</li></ul><p>总之，Ziplist 本来就设计为各个数据项挨在⼀起组成连续的内存空间，这种结构并不擅长做修改操作。⼀旦数据发⽣改动，就会引发内存 realloc，可能导致内存拷贝。</p><br><p><strong>代码实现</strong></p><p><img src="https://mugrain.oss-cn-hangzhou.aliyuncs.com/cswiki/image-20240315161019325.png" alt="image-20240315161019325" loading="lazy"></p></div></div></main><footer class="VPDocFooter" data-v-7b451c74 data-v-ffe8a71c><!--[--><!--]--><div class="edit-info" data-v-ffe8a71c><!----><div class="last-updated" data-v-ffe8a71c><p class="VPLastUpdated" data-v-ffe8a71c data-v-fc47d7a3>最后更新: <time datetime="2024-11-03T15:45:53.000Z" data-v-fc47d7a3></time></p></div></div><nav class="prev-next" data-v-ffe8a71c><div class="pager" data-v-ffe8a71c><a class="VPLink link pager-link prev" href="/cswiki/src/project/redis/11-Redis%E5%AE%9E%E8%B7%B5" data-v-ffe8a71c><!--[--><span class="desc" data-v-ffe8a71c>上一篇</span><span class="title" data-v-ffe8a71c>* Redis实践</span><!--]--></a></div><div class="pager" data-v-ffe8a71c><a class="VPLink link pager-link next" href="/cswiki/src/project/redis/13-Redis%E5%8E%9F%E7%90%86-%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%9E%8B" data-v-ffe8a71c><!--[--><span class="desc" data-v-ffe8a71c>下一篇</span><span class="title" data-v-ffe8a71c>网络模型</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"src_base_alg_index.md\":\"MyjqLDYd\",\"index.md\":\"NJY6Bcc_\",\"src_base_alg_01-数据结构与算法.md\":\"swVJqwCL\",\"src_base_cloud_00操作篇-安装docker.md\":\"ieGtpKRS\",\"src_base_cloud_00操作篇-安装seata.md\":\"xITEHdL7\",\"src_base_cloud_00操作篇-安装nacos.md\":\"psz_g1rz\",\"src_base_cloud_00操作篇-安装redis.md\":\"yEapRJPQ\",\"src_base_cloud_00操作篇-多级缓存案例.md\":\"8_JwsqcT\",\"src_base_cloud_00操作篇-安装mq.md\":\"q6UQ4zdp\",\"src_base_cloud_00操作篇-安装elk.md\":\"7LTyXvCf\",\"src_base_cloud_02实用篇-容器管理.md\":\"Gg4_8yMU\",\"src_base_cloud_03实用篇-异步通信.md\":\"M6EGZRsI\",\"src_base_cloud_01实用篇-微服务治理.md\":\"wZNaW1Dr\",\"src_base_cloud_06实用篇-分布式缓存.md\":\"7hBkVwHm\",\"src_base_cloud_04实用篇-文档数据库.md\":\"F9NZz0Xh\",\"src_base_cloud_07高级篇-微服务保护.md\":\"vVZ1Sc_-\",\"src_base_cloud_09高级篇-可靠消息服务.md\":\"ezluIOj5\",\"src_base_cloud_08高级篇-分布式事务.md\":\"g-LBLdc-\",\"src_base_cloud_index.md\":\"x6LZ6at3\",\"src_base_gof_01-设计模式入门.md\":\"Twc37v3L\",\"src_base_gof_02-uml类图.md\":\"sWH0206E\",\"src_base_cloud_10高级篇-多级缓存技术.md\":\"zpvNe4F3\",\"src_base_gof_03-六大原则.md\":\"7RTrJ7i-\",\"src_base_cloud_05实用篇-分布式搜索.md\":\"NeUT2sor\",\"src_base_gof_04-创建者模式.md\":\"b1frCBy4\",\"src_base_gof_05-结构者模式.md\":\"9g8L9w-C\",\"src_base_java_index.md\":\"RuqkmUqQ\",\"src_base_java_02-java集合.md\":\"0n9EXxZ6\",\"src_base_juc_index.md\":\"dt7_IZgk\",\"src_base_index.md\":\"CjSWuIry\",\"src_base_java_01-java基础.md\":\"md-1gUI3\",\"src_base_juc_juc-apply-exclusive.md\":\"bIP5b6BO\",\"src_base_juc_juc-apply-fork.md\":\"chWd-M1K\",\"src_base_juc_juc-apply-cache.md\":\"JNrm_IxU\",\"src_base_juc_juc-apply-limit.md\":\"NCDUtiTQ\",\"src_base_gof_index.md\":\"tdFYM8T2\",\"src_base_juc_juc-apply-plan.md\":\"t-mDvOux\",\"src_base_juc_juc-apply-sync-async.md\":\"eFEJlU6M\",\"src_base_gof_07-设计模式实践.md\":\"3pM7Hysx\",\"src_base_juc_juc-model-balking.md\":\"770xV91A\",\"src_base_juc_juc-model-flyweight.md\":\"MeMO8A-2\",\"src_base_juc_juc-practice-batch.md\":\"N5w5aatx\",\"src_base_juc_juc-model-work-queue.md\":\"XkDclUp4\",\"src_base_cloud_11面试篇-微服务源码解析.md\":\"QrDBOESE\",\"src_base_juc_juc-model-product.md\":\"7AnEa0zv\",\"src_base_gof_06-行为者模式.md\":\"NjgRVFuv\",\"src_base_juc_juc-model-order.md\":\"BfqWSKVr\",\"src_base_juc_juc-model-termination.md\":\"f73FDwtU\",\"src_base_juc_juc-model-protect.md\":\"xfWrqBx6\",\"src_base_juc_juc-share-final.md\":\"DRG4E_3x\",\"src_base_juc_juc-base.md\":\"_F-JwIaQ\",\"src_base_juc_juc-share-memory.md\":\"LNRXS1KB\",\"src_base_juc_juc-share-nosync.md\":\"IstEXNbk\",\"src_base_juc_juc-share-nolock.md\":\"XNhUgHzY\",\"src_base_juc_juc-theory-linked-blocking-queue.md\":\"R4XZm-5Q\",\"src_base_juc_juc-share-monitor.md\":\"KYp9e6LZ\",\"src_base_juc_juc-theory-concurrent-map.md\":\"_SJqSKh9\",\"src_base_juc_juc-theory-reentrant-lock.md\":\"q33YKaIa\",\"src_base_juc_juc-theory-semaphore.md\":\"FiAMhhzE\",\"src_base_juc_juc-theory-reentrant-read-write-lock.md\":\"tbvcX5gF\",\"src_base_juc_juc-theory-synchronized.md\":\"ortKAKD1\",\"src_base_juc_juc-theory-volatile.md\":\"X0JD0EVi\",\"src_base_juc_juc-tool-collections.md\":\"AZ-r1bi3\",\"src_base_juc_juc-tool-locks.md\":\"QqirRWne\",\"src_base_juc_juc-tool-tools.md\":\"mlDt0KWi\",\"src_base_juc_juc-tools-atomic.md\":\"PtnZWSZA\",\"src_base_jvm_index.md\":\"pG-O5aN6\",\"src_base_jvm_jvm-base.md\":\"P2eALBsa\",\"src_base_jvm_jvm-base-bytecode.md\":\"Eduzz1IX\",\"src_base_jvm_jvm-senior-graal-vm.md\":\"DAXKHlHc\",\"src_base_jvm_jvm-base-runtime.md\":\"SJFPW7gj\",\"src_base_jvm_jvm-base-gc.md\":\"yHGH2n2l\",\"src_base_jvm_jvm-senior-new-gc.md\":\"dpq5rMqs\",\"src_base_jvm_jvm-senior-java-agent.md\":\"DJX5UP0-\",\"src_base_juc_juc-tools-pool.md\":\"yyEXJa5B\",\"src_base_jvm_jvm-tuning-function.md\":\"PcqhGm4c\",\"src_base_jvm_jvm-tuning-gc.md\":\"4pZlx7pb\",\"src_base_mysql_02-mysql进阶-innodb引擎.md\":\"30d9HhSj\",\"src_base_linux_01-初始linux.md\":\"StuIZGWa\",\"src_base_mysql_02-mysql进阶-sql优化.md\":\"20xgs4Kx\",\"src_base_mysql_02-mysql进阶-事务.md\":\"l0NBH66L\",\"src_base_mysql_01-mysql基础.md\":\"pSdd5XcZ\",\"src_base_mysql_02-mysql进阶-索引.md\":\"REsen0SR\",\"src_base_mysql_02-mysql进阶-数据库架构.md\":\"YLupdM1c\",\"src_base_mysql_02-mysql进阶-锁.md\":\"PMNnnXzf\",\"src_base_linux_index.md\":\"Ua07q16P\",\"src_base_jvm_jvm-summarize.md\":\"lXUmnuJu\",\"src_base_jvm_jvm-theory.md\":\"x8DndpNx\",\"src_base_jvm_jvm-tuning-memory.md\":\"YHGnaTrS\",\"src_base_mysql_03-mysql运维-管理工具.md\":\"xRHTtOaI\",\"src_base_mysql_04-mysql实践-sql练习.md\":\"nR54OvyS\",\"src_base_mysql_03-mysql运维-分库分表.md\":\"ZPVC0_Nv\",\"src_base_mysql_03-mysql运维-读写分离.md\":\"1F8rT23t\",\"src_base_mysql_03-mysql运维-日志文件.md\":\"EVJyUbT0\",\"src_base_mysql_03-mysql运维-性能优化.md\":\"pfkINVF5\",\"src_base_mysql_04-mysql实践-sql记录.md\":\"zDd4TSxB\",\"src_base_mysql_03-mysql运维-主从复制.md\":\"0NeuLHW7\",\"src_base_mysql_index.md\":\"gBKktBqs\",\"src_base_netty_index.md\":\"LXYE7ddD\",\"src_base_netty_netty-code.md\":\"Grh9C4dp\",\"src_base_netty_netty-base.md\":\"D6_0Bxi7\",\"src_base_spring_index.md\":\"EM8AQAEi\",\"src_base_spring_spring-aop.md\":\"egWS7_n6\",\"src_base_mysql_02-mysql进阶.md\":\"T5tdgmYR\",\"src_base_spring_spring-mvc.md\":\"5rWSZLcQ\",\"src_base_spring_spring-boot.md\":\"lwm3hvPj\",\"src_base_spring_spring-other.md\":\"OtlMdl2o\",\"src_base_summarize_java-base.md\":\"N6OvBOHs\",\"src_base_summarize_interview.md\":\"AaGzKMRf\",\"src_base_summarize_gof.md\":\"v33aRpiZ\",\"src_base_summarize_index.md\":\"_K2b3cnf\",\"src_base_netty_netty-senior.md\":\"uOf6JuG2\",\"src_base_spring_spring-bean.md\":\"_YU0p9zf\",\"src_base_summarize_java-collection.md\":\"TPwn8ugY\",\"src_base_summarize_java-netty.md\":\"x2pFfzzl\",\"src_base_summarize_message-queue.md\":\"Ell0PlTC\",\"src_base_summarize_project-practice.md\":\"30CvZcCs\",\"src_base_summarize_java-virtual.md\":\"9-Rsd_sV\",\"src_project_college_00-自定义部署.md\":\"0qnGyG9p\",\"src_base_summarize_spring-cloud.md\":\"miI9LIEy\",\"src_base_summarize_mysql.md\":\"DMXSPE9L\",\"src_project_college_00-内网穿透.md\":\"5epNi5lB\",\"src_project_college_00-虚拟机导入.md\":\"BtH_ekVp\",\"src_base_summarize_redis.md\":\"Ap3pQAw_\",\"src_base_netty_non-blocking-io.md\":\"DFxvqtOp\",\"src_base_summarize_spring.md\":\"Q-3bB8xB\",\"src_project_college_01-初识项目.md\":\"N-RietTZ\",\"src_base_summarize_java-concurrent.md\":\"YBRFbDvl\",\"src_project_college_04-学习记录.md\":\"-_Tk7_j3\",\"src_project_college_02-我的课表.md\":\"afiNyrhG\",\"src_project_college_03-学习计划.md\":\"4Z-MQRjM\",\"src_project_college_05-问答系统.md\":\"6sGCsZA2\",\"src_project_college_07-积分系统.md\":\"QODLJGwf\",\"src_project_college_06-点赞系统.md\":\"q1yTK1XB\",\"src_project_college_13-项目部署.md\":\"xn_xcUER\",\"src_project_college_08-排行榜功能.md\":\"w4I0TgA_\",\"src_project_college_10-领取优惠券.md\":\"yV-JqecF\",\"src_project_college_14-项目实战.md\":\"4YLTJHkc\",\"src_project_college_index.md\":\"L3og0vVF\",\"src_project_express_00-常见问题.md\":\"CUeyIsM4\",\"src_project_express_00-基础服务.md\":\"376SObFF\",\"src_project_college_09-优惠券管理.md\":\"U9eTVbeF\",\"src_project_college_11-优惠券优化.md\":\"HRTnYaCG\",\"src_project_express_00-基础工具.md\":\"a8pWbL0u\",\"src_project_college_12-优惠券使用.md\":\"Y4bejsfW\",\"src_project_express_01-初识项目.md\":\"GbRCqzxN\",\"src_project_express_03-运费服务.md\":\"QyKspbxC\",\"src_project_express_06-运输任务.md\":\"LwysKUvo\",\"src_project_express_05-调度服务.md\":\"nnBYTdYo\",\"src_project_express_10-持续集成.md\":\"qHyIEOH-\",\"src_project_index.md\":\"-uzkkdVO\",\"src_project_redis_index.md\":\"wSkhV2NJ\",\"src_project_health_index.md\":\"MOoLLfU7\",\"src_project_rent_index.md\":\"Iybh37Ms\",\"src_project_social_index.md\":\"_llU1edg\",\"src_project_redis_14-redis原理-内存策略.md\":\"brnCtCg0\",\"src_project_shop_index.md\":\"kVFuNBWp\",\"src_project_takeout_index.md\":\"kGycznV8\",\"src_project_financial_index.md\":\"_dipptdR\",\"src_project_express_07-作业范围.md\":\"OoM_JyMv\",\"src_project_redis_13-redis原理-网络模型.md\":\"j5UYhDcX\",\"src_project_express_08-派件调度.md\":\"z8faVzxd\",\"src_project_redis_08-redis实战-附近商户.md\":\"jvOX54uo\",\"src_project_express_09-物流服务.md\":\"qs-XdeKm\",\"src_project_express_12-项目实战.md\":\"fA_7fIIF\",\"src_project_express_11-项目运维.md\":\"p0kc39qy\",\"src_project_topnews_00-虚拟机导入.md\":\"BYKu4wH1\",\"src_project_topnews_12-多级缓存.md\":\"OEkgLTv_\",\"src_project_express_index.md\":\"GDw4KM25\",\"src_project_redis_09-redis实战-用户签到.md\":\"6BYgiJ-G\",\"src_project_redis_07-redis实战-好友关注.md\":\"j-rgE_B_\",\"src_project_redis_02-redis实战-黑马点评.md\":\"8LxFzK1e\",\"src_project_redis_10-redis实战-uv统计.md\":\"GavO2Vq4\",\"src_project_express_04-路线服务.md\":\"TLkJQBID\",\"src_project_redis_01-redis基础.md\":\"WBJYPgIp\",\"src_project_redis_11-redis实践.md\":\"fKvuEAZv\",\"src_project_redis_06-redis实战-达人探店.md\":\"ofOd3WsL\",\"src_project_topnews_00-自定义部署.md\":\"t__659DY\",\"src_project_topnews_11-实时计算.md\":\"JpQNVF9K\",\"src_project_topnews_01-初识项目.md\":\"HwhS9NNx\",\"src_study_book_03.0.第一次危机.md\":\"w7gzJFdY\",\"src_study_book_06-第六次危机.md\":\"P4Ji2yl5\",\"src_study_book_03.2.1.关于中国研究的基本观点.md\":\"q4wh-jm6\",\"src_study_book_04-第四次危机.md\":\"52hnPnEZ\",\"src_study_book_05-第五次危机.md\":\"rpotjOHT\",\"src_project_topnews_09-用户行为.md\":\"o98DyDMW\",\"src_study_book_03.1.序言：什么是真实的中国经验.md\":\"P6tRG3QU\",\"src_study_book_03-第二次危机.md\":\"3_o9cpt6\",\"src_project_topnews_08-平台管理.md\":\"kCaSxZN0\",\"src_project_topnews_10-定时计算.md\":\"Xev9SMdC\",\"src_study_book_07-第七次危机.md\":\"kQL_3Qj8\",\"src_study_movie_01-电影影片.md\":\"YJ6rn4p5\",\"src_study_book_09-第九次危机.md\":\"8FKS9H0u\",\"src_study_book_08-第八次危机.md\":\"P-ltWVGz\",\"src_study_book_3.2.2.md\":\"bCZyI69Z\",\"src_study_english_01-英语学习.md\":\"26mQ_RqO\",\"src_study_book_index.md\":\"fyzZb0Hl\",\"src_study_book_01.1.2.重新界定有普遍意义的主要概念.md\":\"sx7kclBz\",\"src_project_express_02-支付服务.md\":\"rPszblZo\",\"src_study_book_3.3.md\":\"4v6uL9En\",\"src_study_method_02-养成好习惯.md\":\"kMBM7_Fu\",\"src_study_method_03-结构思维.md\":\"MIYiCZwc\",\"src_study_book_10-第十次危机.md\":\"8wDA0wyS\",\"src_study_method_01-高效搜索.md\":\"FtdLWAQk\",\"src_study_book_3.4.md\":\"au01ZpVg\",\"src_study_method_05-面试技巧.md\":\"Qer4h2XN\",\"src_project_redis_05-redis实战-优惠券秒杀.md\":\"JZ34CXjc\",\"src_study_index.md\":\"sLvseDBN\",\"src_project_topnews_07-文章搜索.md\":\"M9jsEy7e\",\"src_project_topnews_05-延迟发布.md\":\"sVaq0_ZS\",\"src_study_book_01.0.概述.md\":\"ZSNf2qQo\",\"src_study_book_01.1.1.战后超级大国地缘政治的不确定性及其冷战特点.md\":\"ULTl2hqu\",\"src_study_book_02.3.3.1997和2008年中国2次“输入型”危机的发生、应对及影响.md\":\"3odiMJq7\",\"src_study_book_02.3.1.1958-1976：工业化初期的3次危机及其外资外债背景.md\":\"Mb9vpiVB\",\"src_project_topnews_index.md\":\"DjOImstG\",\"src_study_book_02.3.4.现象归纳：60年4次引进外资各伴生2次危机.md\":\"OjcTD6aG\",\"src_study_book_02.3.2.改革以来3次内源性经济危机及其化解.md\":\"IVdrxlbb\",\"src_study_book_03-第三次危机.md\":\"-EPs0thf\",\"src_study_book_02.3.5.全球化时代发达国家与发展中实体经济国家的关系.md\":\"d1UcJ4S0\",\"src_study_book_02.2.1949-1950年新民主主义资本主义的危机.md\":\"g7_2yBQV\",\"src_project_topnews_14-项目实战.md\":\"n0RxpO08\",\"src_study_book_02.3.6.二十一世纪中国发展情况.md\":\"ByWsxMKP\",\"src_project_redis_12-redis原理-数据结构.md\":\"hN1W-Abs\",\"src_project_redis_03-redis实战-短信登录.md\":\"bEoJ6kN_\",\"src_project_topnews_06-文章上架.md\":\"_rXw-Qjr\",\"src_project_topnews_13-持续集成.md\":\"McstQZye\",\"src_project_redis_04-redis实战-商户查询.md\":\"pZWuWyzt\",\"src_project_topnews_04-文章审核.md\":\"9ehA9QUe\",\"src_study_method_04-提升专注力.md\":\"la1bup_b\",\"src_project_topnews_02-文章查看.md\":\"Lfi0FXnC\",\"src_project_topnews_03-文章发布.md\":\"b7gsko2z\",\"src_project_topnews_00-自定义服务.md\":\"cakq0AAd\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"zh-CN\",\"dir\":\"ltr\",\"title\":\"知识小册子\",\"description\":\"搭建个人的知识体系,一个好的知识体系和学习方法会让自己事半功倍\",\"base\":\"/cswiki/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"📌 技术博客\",\"link\":\"/\"},{\"text\":\"📝 基础知识\",\"items\":[{\"items\":[{\"text\":\"☕️ Java基础\",\"link\":\"/src/base/java/index\"},{\"text\":\"🖥 JVM入门\",\"link\":\"/src/base/jvm/index\"},{\"text\":\"🔥 并发编程\",\"link\":\"/src/base/juc/index\"},{\"text\":\"🌐 网络编程\",\"link\":\"/src/base/netty/index\"}]},{\"items\":[{\"text\":\"🧩 数据结构\",\"link\":\"/src/base/alg/index\"},{\"text\":\"📝 设计模式\",\"link\":\"/src/base/gof/index\"}]},{\"items\":[{\"text\":\"📊 数据库\",\"link\":\"/src/base/mysql/index\"},{\"text\":\"👨‍💻 服务器\",\"link\":\"/src/base/linux/index\"},{\"text\":\"🌱 Spring\",\"link\":\"/src/base/spring/index\"},{\"text\":\"☁️ 微服务\",\"link\":\"/src/base/cloud/index\"}]}]},{\"text\":\"🛠️ 项目实战\",\"items\":[{\"items\":[{\"text\":\"🔖️ 黑马点评\",\"link\":\"/src/project/redis/index\"},{\"text\":\"📰 黑马头条\",\"link\":\"/src/project/topnews/index\"}]},{\"items\":[{\"text\":\"📚 天机学堂\",\"link\":\"/src/project/college/index\"},{\"text\":\"🚚 神领物流\",\"link\":\"/src/project/express/index\"},{\"text\":\"🛒 谷粒商城\",\"link\":\"/src/project/shop/index\"}]},{\"items\":[{\"text\":\"🍜 谷粒外卖\",\"link\":\"/src/project/takeout/index\"},{\"text\":\"🏄 谷粒健康\",\"link\":\"/src/project/health/index\"},{\"text\":\"🧑‍🤝‍🧑 谷粒交友\",\"link\":\"/src/project/social/index\"},{\"text\":\"🏠 谷粒租房\",\"link\":\"/src/project/rent/index\"},{\"text\":\"📈 谷粒金融\",\"link\":\"/src/project/financial/index\"}]}],\"activeMatch\":\"/src/project\"},{\"text\":\"💼 面试宝典\",\"link\":\"/src/base/summarize/index\",\"activeMatch\":\"/src/base/summarize\"}],\"sidebar\":{\"/src/study\":[{\"text\":\"学习方法\",\"link\":\"\",\"items\":[{\"text\":\"高效搜索\",\"link\":\"/src/study/method/01-高效搜索\"},{\"text\":\"养成好习惯\",\"link\":\"/src/study/method/02-养成好习惯\"},{\"text\":\"结构思维\",\"link\":\"/src/study/method/03-结构思维\"},{\"text\":\"提升专注力\",\"link\":\"/src/study/method/04-提升专注力\"}]}],\"/src/base/java\":[{\"text\":\"Java基础\",\"base\":\"/src/base/java/\",\"link\":\"01-Java基础\"},{\"text\":\"Java集合\",\"base\":\"/src/base/java/\",\"link\":\"02-Java集合\"}],\"/src/base/jvm\":[{\"text\":\"JVM\",\"base\":\"/src/base/jvm/\",\"collapsed\":false,\"items\":[{\"text\":\"虚拟机基础\",\"items\":[{\"text\":\"JVM入门\",\"link\":\"jvm-base\"},{\"text\":\"字节码与类的加载\",\"link\":\"jvm-base-bytecode\"},{\"text\":\"运行时数据区\",\"link\":\"jvm-base-runtime\"},{\"text\":\"垃圾回收\",\"link\":\"jvm-base-gc\"}]},{\"text\":\"虚拟机实战\",\"items\":[{\"text\":\"内存调优\",\"link\":\"jvm-tuning-memory\"},{\"text\":\"GC调优\",\"link\":\"jvm-tuning-gc\"},{\"text\":\"性能调优\",\"link\":\"jvm-tuning-function\"}]},{\"text\":\"虚拟机高级\",\"items\":[{\"text\":\"GraalVM\",\"link\":\"jvm-senior-graal-vm\"},{\"text\":\"新一代GC\",\"link\":\"jvm-senior-new-gc\"},{\"text\":\"Java工具\",\"link\":\"jvm-senior-java-agent\"}]},{\"text\":\"虚拟机原理\",\"link\":\"jvm-theory\",\"items\":[]},{\"text\":\"虚拟机总结\",\"link\":\"jvm-summarize\"}]}],\"/src/base/juc\":[{\"text\":\"并发编程\",\"base\":\"/src/base/juc/\",\"collapsed\":false,\"items\":[{\"text\":\"并发编程基础\",\"link\":\"juc-base\"},{\"text\":\"并发编程理论\",\"base\":\"/src/base/juc/juc-share-\",\"items\":[{\"text\":\"共享模型之管程\",\"link\":\"monitor\"},{\"text\":\"共享模型之内存\",\"link\":\"memory\"},{\"text\":\"共享模型之无锁\",\"link\":\"nolock\"},{\"text\":\"共享模型之不可变\",\"link\":\"final\"},{\"text\":\"共享模型之无同步方案\",\"link\":\"nosync\"}]},{\"text\":\"并发编程工具\",\"base\":\"/src/base/juc/juc-tool-\",\"items\":[{\"text\":\"线程池\",\"link\":\"pool\"},{\"text\":\"Locks\",\"link\":\"locks\"},{\"text\":\"Tools\",\"link\":\"tools\"},{\"text\":\"Atomic\",\"link\":\"atomic\"},{\"text\":\"Collections\",\"link\":\"collections\"}]},{\"text\":\"并发编程应用\",\"base\":\"/src/base/juc/juc-apply-\",\"items\":[{\"text\":\"同步和异步\",\"link\":\"sync-async\"},{\"text\":\"限制\",\"link\":\"limit\"},{\"text\":\"互斥\",\"link\":\"exclusive\"},{\"text\":\"缓存\",\"link\":\"cache\"},{\"text\":\"分治\",\"link\":\"fork\"},{\"text\":\"统筹\",\"link\":\"plan\"}]},{\"text\":\"并发编程模式\",\"base\":\"/src/base/juc/juc-model\",\"items\":[{\"text\":\"同步模式之保护者暂停\",\"link\":\"protect\"},{\"text\":\"同步模式之顺序控制\",\"link\":\"order\"},{\"text\":\"同步模式之Balking\",\"link\":\"balking\"},{\"text\":\"异步模式之生产者消费者\",\"link\":\"product\"},{\"text\":\"异步模式之工作线程\",\"link\":\"work-queue\"},{\"text\":\"终止模式之两阶段终止\",\"link\":\"termination\"},{\"text\":\"共享模式之享元\",\"link\":\"flyweight\"}]},{\"text\":\"* 并发编程原理\",\"base\":\"/src/base/juc/juc-theory-\",\"items\":[{\"text\":\"synchronized原理\",\"link\":\"synchronized\"},{\"text\":\"volatile原理\",\"link\":\"volatile\"},{\"text\":\"ReentrantLock原理\",\"link\":\"reentrant-lock\"},{\"text\":\"读写锁原理\",\"link\":\"reentrant-read-write-lock\"},{\"text\":\"Semaphore原理\",\"link\":\"semaphore\"},{\"text\":\"ConcurrentMap原理\",\"link\":\"concurrent-map\"},{\"text\":\"LinkedBlockingQueue原理\",\"link\":\"linked-blocking-queue\"}]},{\"text\":\"并发编程场景\",\"base\":\"/src/base/juc/juc-practice\",\"items\":[{\"text\":\"批量数据导入\",\"link\":\"batch\"}]}]}],\"/src/base/netty\":[{\"text\":\"网络编程\",\"collapsed\":false,\"base\":\"/src/base/netty/\",\"items\":[{\"text\":\"Java NIO\",\"link\":\"non-blocking-io\"},{\"text\":\"Netty\",\"items\":[{\"text\":\"Netty 基础\",\"link\":\"netty-base\"},{\"text\":\"Netty 高级\",\"link\":\"netty-senior\"},{\"text\":\"*Netty 源码\",\"link\":\"netty-code\"}]},{\"text\":\"Nginx\"}]}],\"/src/base/mysql\":[{\"text\":\"数据库\",\"base\":\"/src/base/mysql/\",\"items\":[{\"text\":\"MySQL基础\",\"link\":\"01-MySQL基础\"},{\"text\":\"MySQL进阶\",\"base\":\"/src/base/mysql/02-\",\"link\":\"MySQL进阶\",\"items\":[{\"text\":\"数据库架构\",\"link\":\"MySQL进阶-数据库架构\"},{\"text\":\"索引\",\"link\":\"MySQL进阶-索引\"},{\"text\":\"SQL优化\",\"link\":\"MySQL进阶-SQL优化\"},{\"text\":\"锁\",\"link\":\"MySQL进阶-锁\"},{\"text\":\"InnoDB引擎\",\"link\":\"MySQL进阶-InnoDB引擎\"}]},{\"text\":\"MySQL运维\",\"base\":\"/src/base/mysql/03-MySQL运维-\",\"items\":[{\"text\":\"管理工具\",\"link\":\"管理工具\"},{\"text\":\"日志文件\",\"link\":\"日志文件\"},{\"text\":\"主从复制\",\"link\":\"主从复制\"},{\"text\":\"分库分表\",\"link\":\"分库分表\"},{\"text\":\"读写分离\",\"link\":\"读写分离\"}]},{\"text\":\"MySQL实践\",\"base\":\"/src/base/mysql/04-MySQL实践-\",\"items\":[{\"text\":\"SQL记录\",\"link\":\"SQL记录\"},{\"text\":\"SQL练习\",\"link\":\"SQL练习\"}]}]}],\"/src/base/gof\":[{\"text\":\"设计模式\",\"collapsed\":false,\"base\":\"/src/base/gof/\",\"items\":[{\"text\":\"设计模式入门\",\"link\":\"01-设计模式入门\"},{\"text\":\"UML类图\",\"link\":\"02-UML类图\"},{\"text\":\"六大原则\",\"link\":\"03-六大原则\"},{\"text\":\"创建者模式\",\"link\":\"04-创建者模式\"},{\"text\":\"结构者模式\",\"link\":\"05-结构者模式\"},{\"text\":\"行为者模式\",\"link\":\"06-行为者模式\"},{\"text\":\"设计模式实践\",\"link\":\"07-设计模式实践\"}]}],\"/src/base/spring\":[{\"text\":\"Spring原理篇\",\"collapsed\":false,\"base\":\"/src/base/spring/\",\"items\":[{\"text\":\"Spring-Bean\",\"link\":\"01-Spring-Bean\"},{\"text\":\"Spring-AOP\",\"link\":\"02-Spring-AOP\"},{\"text\":\"Spring-Boot\",\"link\":\"03-Spring-Boot\"},{\"text\":\"Spring-MVC\",\"link\":\"04-Spring-MVC\"},{\"text\":\"Spring-Other\",\"link\":\"05-Spring-Other\"}]},{\"text\":\"Spring集成篇\",\"collapsed\":false}],\"/src/base/cloud\":[{\"text\":\"Cloud 实用篇\",\"base\":\"/src/base/cloud/\",\"collapsed\":false,\"items\":[{\"text\":\"微服务治理\",\"link\":\"01实用篇-微服务治理\"},{\"text\":\"容器管理\",\"link\":\"02实用篇-容器管理\"},{\"text\":\"异步通信\",\"link\":\"03实用篇-异步通信\"},{\"text\":\"文档数据库\",\"link\":\"04实用篇-文档数据库\"},{\"text\":\"分布式缓存\",\"link\":\"06实用篇-分布式缓存\"}]},{\"text\":\"Cloud 高级篇\",\"base\":\"/src/base/cloud/\",\"collapsed\":false,\"items\":[{\"text\":\"分布式搜索\",\"link\":\"05实用篇-分布式搜索\"},{\"text\":\"分布式事务\",\"link\":\"08高级篇-分布式事务\"},{\"text\":\"微服务保护\",\"link\":\"07高级篇-微服务保护\"},{\"text\":\"可靠消息服务\",\"link\":\"09高级篇-可靠消息服务\"},{\"text\":\"多级缓存技术\",\"link\":\"10高级篇-多级缓存技术\"},{\"text\":\"微服务面试题\",\"link\":\"11面试篇-微服务源码解析\"}]},{\"text\":\"Cloud 操作篇\",\"base\":\"/src/base/cloud¡/00操作篇-\",\"collapsed\":false,\"items\":[{\"text\":\"安装Nacos\",\"link\":\"安装Nacos\"},{\"text\":\"安装Seata\",\"link\":\"安装Seata\"},{\"text\":\"安装Docker\",\"link\":\"安装Docker\"},{\"text\":\"安装Redis\",\"link\":\"安装Redis\"},{\"text\":\"安装MQ\",\"link\":\"安装MQ\"},{\"text\":\"安装ELK\",\"link\":\"安装ELK\"},{\"text\":\"多级缓存案例\",\"link\":\"多级缓存案例\"}]}],\"/src/project/redis\":[{\"text\":\"黑马点评\",\"collapsed\":false,\"base\":\"/src/project/redis/\",\"items\":[{\"text\":\"Redis基础\",\"link\":\"01-Redis基础\"},{\"text\":\"Redis实战\",\"base\":\"/src/project/redis/\",\"items\":[{\"text\":\"黑马点评\",\"link\":\"02-Redis实战-黑马点评\"},{\"text\":\"短信登录\",\"link\":\"03-Redis实战-短信登录\"},{\"text\":\"商户查询\",\"link\":\"04-Redis实战-商户查询\"},{\"text\":\"* 优惠券秒杀\",\"link\":\"05-Redis实战-优惠券秒杀\"},{\"text\":\"达人探店\",\"link\":\"06-Redis实战-达人探店\"},{\"text\":\"好友关注\",\"link\":\"07-Redis实战-好友关注\"},{\"text\":\"附近商户\",\"link\":\"08-Redis实战-附近商户\"},{\"text\":\"用户签到\",\"link\":\"09-Redis实战-用户签到\"},{\"text\":\"UV统计\",\"link\":\"10-Redis实战-UV统计\"}]},{\"text\":\"* Redis实践\",\"link\":\"11-Redis实践\"},{\"text\":\"* Redis原理\",\"base\":\"/src/project/redis/\",\"items\":[{\"text\":\"数据结构\",\"link\":\"12-Redis原理-数据结构\"},{\"text\":\"网络模型\",\"link\":\"13-Redis原理-网络模型\"},{\"text\":\"内存策略\",\"link\":\"14-Redis原理-内存策略\"}]}]}],\"/src/project/topnews\":[{\"text\":\"黑马点评\",\"collapsed\":false,\"base\":\"/src/project/topnews/\",\"items\":[{\"text\":\"Day01-初识项目\",\"link\":\"01-初识项目\",\"items\":[{\"text\":\"虚拟机导入\",\"link\":\"00-虚拟机导入\"},{\"text\":\"自定义部署\",\"link\":\"00-自定义部署\"},{\"text\":\"自定义服务\",\"link\":\"00-自定义服务\"}]},{\"text\":\"Day02-文章查看\",\"link\":\"02-文章查看\"},{\"text\":\"Day03-文章发布\",\"link\":\"03-文章发布\"},{\"text\":\"Day04-文章审核\",\"link\":\"04-文章审核\"},{\"text\":\"Day05-延迟发布\",\"link\":\"05-延迟发布\"},{\"text\":\"Day06-文章上架\",\"link\":\"06-文章上架\"},{\"text\":\"Day07-文章搜索\",\"link\":\"07-文章搜索\"},{\"text\":\"Day08-平台管理\",\"link\":\"08-平台管理\"},{\"text\":\"Day09-用户行为\",\"link\":\"09-用户行为\"},{\"text\":\"Day10-定时计算\",\"link\":\"10-定时计算\"},{\"text\":\"Day11-实时计算\",\"link\":\"11-实时计算\"},{\"text\":\"Day12-多级缓存\",\"link\":\"12-多级缓存\"},{\"text\":\"Day13-持续集成\",\"link\":\"13-持续集成\"},{\"text\":\"Day14-项目实战\",\"link\":\"14-项目实战\"}]}],\"/src/project/college\":[{\"text\":\"天机学堂\",\"collapsed\":false,\"base\":\"/src/project/college/\",\"items\":[{\"text\":\"01-初识项目\",\"link\":\"01-初识项目\",\"items\":[{\"text\":\"虚拟机导入\",\"link\":\"00-虚拟机导入\"},{\"text\":\"自定义部署\",\"link\":\"00-自定义部署\"},{\"text\":\"内网穿透\",\"link\":\"00-内网穿透\"}]},{\"text\":\"02-我的课表\",\"link\":\"02-我的课表\"},{\"text\":\"03-学习计划\",\"link\":\"03-学习计划\"},{\"text\":\"04-学习记录\",\"link\":\"04-学习记录\"},{\"text\":\"05-问答系统\",\"link\":\"05-问答系统\"},{\"text\":\"06-点赞系统\",\"link\":\"06-点赞系统\"},{\"text\":\"07-积分系统\",\"link\":\"07-积分系统\"},{\"text\":\"08-排行榜功能\",\"link\":\"08-排行榜功能\"},{\"text\":\"09-优惠券管理\",\"link\":\"09-优惠券管理\"},{\"text\":\"10-领取优惠券\",\"link\":\"10-领取优惠券\"},{\"text\":\"11-优惠券优化\",\"link\":\"11-优惠券优化\"},{\"text\":\"12-优惠券使用\",\"link\":\"12-优惠券使用\"},{\"text\":\"13-项目部署\",\"link\":\"13-项目部署\"},{\"text\":\"14-项目实战\",\"link\":\"13-项目实战\"}]}],\"/src/project/express\":[{\"text\":\"神领物流\",\"collapsed\":false,\"base\":\"/src/project/express/\",\"items\":[{\"text\":\"01-初识项目\",\"link\":\"01-初识项目\",\"items\":[{\"text\":\"基础服务\",\"link\":\"00-基础服务\"},{\"text\":\"基础工具\",\"link\":\"00-基础工具\"},{\"text\":\"常见问题\",\"link\":\"00-常见问题\"}]},{\"text\":\"02-支付服务\",\"link\":\"02-支付服务\"},{\"text\":\"03-运费服务\",\"link\":\"03-运费服务\"},{\"text\":\"04-路线服务\",\"link\":\"04-路线服务\"},{\"text\":\"05-调度服务\",\"link\":\"05-调度服务\"},{\"text\":\"06-运输任务\",\"link\":\"06-运输任务\"},{\"text\":\"07-作业范围\",\"link\":\"07-作业范围\"},{\"text\":\"08-派件调度\",\"link\":\"08-派件调度\"},{\"text\":\"09-物流服务\",\"link\":\"09-物流服务\"},{\"text\":\"10-持续集成\",\"link\":\"10-持续集成\"},{\"text\":\"11-项目运维\",\"link\":\"11-项目运维\"},{\"text\":\"12-项目实战\",\"link\":\"12-项目实战\"}]}],\"/src/base/summarize\":[{\"text\":\"基础知识\",\"collapsed\":false,\"base\":\"/src/base/summarize/\",\"items\":[{\"text\":\"Java基础\",\"link\":\"java-base\"},{\"text\":\"Java集合\",\"link\":\"java-collection\"},{\"text\":\"Java虚拟机\",\"link\":\"java-virtual\"},{\"text\":\"并发编程篇\",\"link\":\"java-concurrent\"},{\"text\":\"网络编程篇\",\"link\":\"java-netty\"}]},{\"text\":\"服务框架\",\"collapsed\":false,\"base\":\"/src/base/summarize/\",\"items\":[{\"text\":\"数据库篇\",\"link\":\"mysql\"},{\"text\":\"缓存篇\",\"link\":\"redis\"},{\"text\":\"框架篇\",\"link\":\"spring\"},{\"text\":\"微服务篇\",\"link\":\"spring-cloud\"},{\"text\":\"中间件篇\",\"link\":\"message-queue\"}]},{\"text\":\"场景技术\",\"collapsed\":false,\"base\":\"/src/base/summarize/\",\"items\":[{\"text\":\"设计模式篇\",\"link\":\"gof\"},{\"text\":\"场景技术篇\",\"link\":\"project-practice\"},{\"text\":\"知识点汇总\",\"link\":\"index\"}]}]},\"logo\":\"/logo.svg\",\"outline\":{\"level\":\"deep\",\"label\":\"章节导航\"},\"darkModeSwitchLabel\":\"切换日光/暗黑模式\",\"sidebarMenuLabel\":\"文章\",\"returnToTopLabel\":\"返回顶部\",\"lastUpdatedText\":\"最后更新\",\"docFooter\":{\"prev\":\"上一篇\",\"next\":\"下一篇\"},\"search\":{\"provider\":\"local\",\"options\":{\"locales\":{\"root\":{\"translations\":{\"button\":{\"buttonText\":\"搜索文档\",\"buttonAriaLabel\":\"搜索文档\"},\"modal\":{\"noResultsText\":\"无法找到相关结果\",\"resetButtonTitle\":\"清除查询条件\",\"footer\":{\"selectText\":\"选择\",\"navigateText\":\"切换\"}}}}}}},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/Charles7c/charles7c.github.io\"},{\"icon\":{\"svg\":\"<svg role=\\\"img\\\" viewBox=\\\"0 0 24 24\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><title>码云</title><path d=\\\"M11.984 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0a12 12 0 0 0-.016 0zm6.09 5.333c.328 0 .593.266.592.593v1.482a.594.594 0 0 1-.593.592H9.777c-.982 0-1.778.796-1.778 1.778v5.63c0 .327.266.592.593.592h5.63c.982 0 1.778-.796 1.778-1.778v-.296a.593.593 0 0 0-.592-.593h-4.15a.592.592 0 0 1-.592-.592v-1.482a.593.593 0 0 1 .593-.592h6.815c.327 0 .593.265.593.592v3.408a4 4 0 0 1-4 4H5.926a.593.593 0 0 1-.593-.593V9.778a4.444 4.444 0 0 1 4.445-4.444h8.296Z\\\"/></svg>\"},\"link\":\"https://gitee.com/Charles7c/charles7c\"}],\"commentConfig\":{\"type\":\"gitalk\",\"showComment\":false},\"footerConfig\":{\"showFooter\":true,\"message\":\"Released under the MIT License.\",\"copyright\":\"Copyright © 2019-2025 Cookie Mousse\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>