import{_ as p,E as t,c as k,J as r,w as o,m as n,a as F,V as d,o as l,b as g,e as c}from"./chunks/framework.syB9hai_.js";const u="/cswiki/assets/1660810019036-a7f8a82f-f14d-4c73-b03a-e959991dbcb9._kw43ekg.gif",y="/cswiki/assets/1665050512674-e89b4f13-70ab-432e-b9bb-8322710c29f4.KKgA_h2Z.png",q="/cswiki/assets/1665051129876-512ab465-7397-400f-b554-95be2bbdbe4d.i3mvAmHX.png",C="/cswiki/assets/1666833403124-d59fe54c-042f-43a3-8a4c-10c043d94bbf.OoDmRMAp.png",E="/cswiki/assets/1666833433788-0138f105-8c7f-4f21-af38-2c3420fadbe4.mubp5YYD.png",B="/cswiki/assets/625e22b4440d05858f53c190f635c9e3.8q9mG3K9.svg",m="/cswiki/assets/1678698979148-4a28be6d-60b6-451a-ba92-9a5ee7e27d38.Mu3aecFi.png",f="/cswiki/assets/1219b77fff89729619b1adc52e3d48e9.QnRaLSna.svg",b="/cswiki/assets/1665147200039-bab2d995-ef23-4279-8ea3-504f17b2a579.1PyPxrWt.jpeg",N=JSON.parse('{"title":"项目实战","description":"","frontmatter":{},"headers":[],"relativePath":"src/project/express/12-项目实战.md","filePath":"src/project/express/12-项目实战.md","lastUpdated":1730648753000}'),_={name:"src/project/express/12-项目实战.md"},x=n("h1",{id:"项目实战",tabindex:"-1"},[F("项目实战 "),n("a",{class:"header-anchor",href:"#项目实战","aria-label":'Permalink to "项目实战"'},"​")],-1),w=d('<nav class="table-of-contents"><ul><li><a href="#项目实战">项目实战</a><ul><li><a href="#背景说明">背景说明</a></li><li><a href="#功能需求">功能需求</a><ul><li><a href="#取派件任务搜索">取派件任务搜索</a></li><li><a href="#车辆轨迹">车辆轨迹</a></li></ul></li><li><a href="#实现分析">实现分析</a><ul><li><a href="#取派件任务搜索-1">取派件任务搜索</a><ul><li><a href="#业务流程">业务流程</a></li><li><a href="#基础代码">基础代码</a></li><li><a href="#实现提示">实现提示</a></li></ul></li><li><a href="#车辆轨迹-1">车辆轨迹</a><ul><li><a href="#业务流程-1">业务流程</a></li><li><a href="#实现提示-1">实现提示</a></li></ul></li></ul></li><li><a href="#短信微服务">短信微服务</a></li><li><a href="#项目分组">项目分组</a><ul><li><a href="#时间安排">时间安排</a></li><li><a href="#分组安排">分组安排</a></li><li><a href="#代码管理">代码管理</a></li></ul></li><li><a href="#成果演示">成果演示</a></li></ul></li></ul></nav><h2 id="背景说明" tabindex="-1">背景说明 <a class="header-anchor" href="#背景说明" aria-label="Permalink to &quot;背景说明&quot;">​</a></h2><p>通过前面课程的学习，我们已经掌握了神领物流项目相关业务的开发，也参与了核心调度中心的开发，对于项目有了更深的理解，在此阶段中，我们将基于神领物流项目本身的基础之上扩展新的功能，这些新的功能将由你来完成。加油~ <img src="'+u+'" alt="w.gif" loading="lazy"></p><h2 id="功能需求" tabindex="-1">功能需求 <a class="header-anchor" href="#功能需求" aria-label="Permalink to &quot;功能需求&quot;">​</a></h2><p>项目分组实战，目标是完成三个需求，实现三个微服务，分别是</p><ul><li>取派件任务搜索微服务 （★★★★☆）</li><li>车辆轨迹微服务 （★★★☆☆）</li><li>短信微服务 （★★☆☆☆） <ul><li>快递员派件时，下发短信通知收件人</li><li>快递员取件后，用户超时1小时未付款，下发短信通知付款</li><li>收件人签收后，下发短信邀请为快递员评价</li><li>……</li></ul></li></ul><h3 id="取派件任务搜索" tabindex="-1">取派件任务搜索 <a class="header-anchor" href="#取派件任务搜索" aria-label="Permalink to &quot;取派件任务搜索&quot;">​</a></h3><p>取派件任务搜索是在快递员端的操作，主要包含两个功能，分别是【任务搜索】和【最近搜索】，其中【最近搜索】已经在<code>sl-express-ms-web-courier</code>中实现，所以在实战中，只需要实现【任务搜索】即可。 任务搜索的需求如下：（仔细阅读需求） <img src="'+y+'" alt="image.png" loading="lazy"></p><p>功能界面： <img src="'+q+'" alt="image.png" loading="lazy"></p><h3 id="车辆轨迹" tabindex="-1">车辆轨迹 <a class="header-anchor" href="#车辆轨迹" aria-label="Permalink to &quot;车辆轨迹&quot;">​</a></h3><p>车辆轨迹，首先是在创建运单后会对整个运输路线进行规划（借助高德地图服务），规划完成后轨迹点数据存于MongoDB，用于展现轨迹。（具体需求可参考需求文档） 车辆在运输中、快递员在派件中会上报位置自己的位置，具体由各自的APP进行上报，用于展现当前车辆所在的位置。 功能效果图如下： <img src="'+C+'" alt="image.png" loading="lazy"></p><p><img src="'+E+'" alt="image.png" loading="lazy"></p><h2 id="实现分析" tabindex="-1">实现分析 <a class="header-anchor" href="#实现分析" aria-label="Permalink to &quot;实现分析&quot;">​</a></h2><h3 id="取派件任务搜索-1" tabindex="-1">取派件任务搜索 <a class="header-anchor" href="#取派件任务搜索-1" aria-label="Permalink to &quot;取派件任务搜索&quot;">​</a></h3><p>关于搜索的实现的，可以参考文档：<a href="https://sl-express.itheima.net/#/zh-cn/modules/sl-express-ms-search" target="_blank" rel="noreferrer">https://sl-express.itheima.net/#/zh-cn/modules/sl-express-ms-search</a></p><h4 id="业务流程" tabindex="-1">业务流程 <a class="header-anchor" href="#业务流程" aria-label="Permalink to &quot;业务流程&quot;">​</a></h4><p><img src="'+B+'" alt="" loading="lazy">由上面的业务流程可以看出：</p><ul><li>快递员的取派件任务都是通过work微服务发出消息与Elasticsearch中的数据同步的</li><li>快递员端微服务通过搜索微服务的查询，可以查询到符合条件的数据</li></ul><h4 id="基础代码" tabindex="-1">基础代码 <a class="header-anchor" href="#基础代码" aria-label="Permalink to &quot;基础代码&quot;">​</a></h4><p>在git中提供搜索微服务的基础代码，仅供实战参考。（学生可自行设计代码，不要求必须一样，能够实现业务功能即可）</p><table><thead><tr><th>工程名</th><th>git地址</th></tr></thead><tbody><tr><td>sl-express-ms-search-api</td><td><a href="http://git.sl-express.com/sl/sl-express-ms-search-api.git" target="_blank" rel="noreferrer">http://git.sl-express.com/sl/sl-express-ms-search-api.git</a></td></tr><tr><td>sl-express-ms-search-domain</td><td><a href="http://git.sl-express.com/sl/sl-express-ms-search-domain.git" target="_blank" rel="noreferrer">http://git.sl-express.com/sl/sl-express-ms-search-domain.git</a></td></tr><tr><td>sl-express-ms-search-service</td><td><a href="http://git.sl-express.com/sl/sl-express-ms-search-service.git" target="_blank" rel="noreferrer">http://git.sl-express.com/sl/sl-express-ms-search-service.git</a></td></tr></tbody></table><h4 id="实现提示" tabindex="-1">实现提示 <a class="header-anchor" href="#实现提示" aria-label="Permalink to &quot;实现提示&quot;">​</a></h4><h5 id="新版java-api学习" tabindex="-1">新版Java API学习 <a class="header-anchor" href="#新版java-api学习" aria-label="Permalink to &quot;新版Java API学习&quot;">​</a></h5><p>ElasticSearch自7.15版本以后，废弃了 RestHighLevelClient ，官方推荐使用 ElasticsearchClient ，该客户端的使用示例均已做了测试用例。 如下图中，IndexTest 是索引相关测试用例，DocumentTest 是文档相关测试用例，ComplexSearchTest 是复杂搜索相关测试用例。 另外，同学们也可参考官方文档进行自主学习：<a href="https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/7.17/searching.html" target="_blank" rel="noreferrer">https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/7.17/searching.html</a><img src="'+m+`" alt="image.png" loading="lazy"></p><h5 id="分词器学习" tabindex="-1">分词器学习 <a class="header-anchor" href="#分词器学习" aria-label="Permalink to &quot;分词器学习&quot;">​</a></h5><p>搜索微服务中，我们对于运单号、手机号、姓名字段进行搜索。运单号和手机号字段使用Ngram分词器，姓名字段先使用Ngram分词器，再使用拼音分词器。 以上两种分词器可参考官方文档进行自主学习：</p><ul><li>Ngram分词器官方文档：<a href="https://www.elastic.co/guide/en/elasticsearch/reference/6.8/analysis-ngram-tokenizer.html" target="_blank" rel="noreferrer">https://www.elastic.co/guide/en/elasticsearch/reference/6.8/analysis-ngram-tokenizer.html</a></li><li>拼音分词器官方文档：<a href="https://github.com/medcl/elasticsearch-analysis-pinyin" target="_blank" rel="noreferrer">https://github.com/medcl/elasticsearch-analysis-pinyin</a></li></ul><h5 id="索引库结构" tabindex="-1">索引库结构 <a class="header-anchor" href="#索引库结构" aria-label="Permalink to &quot;索引库结构&quot;">​</a></h5><p>在kibana中，创建索引库和映射（仅供参考，可自行调整）：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PUT</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> courier_task</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  &quot;settings&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    &quot;index.max_ngram_diff&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">:12,//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ngram分词器设置最大最小步长间隔</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    &quot;analysis&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;analyzer&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {// 自定义分词器</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;code_analyzer&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {// 编码类分词器，适用于手机号和运单号</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          &quot;tokenizer&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;code_tokenizer&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;name_analyzer&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{// </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">姓名分词器</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          &quot;tokenizer&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;name_tokenizer&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          &quot;filter&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;py&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> // 分词后再用拼音分词器过滤</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;tokenizer&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;code_tokenizer&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          &quot;type&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ngram&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          &quot;min_gram&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          &quot;max_gram&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 15</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          &quot;token_chars&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            &quot;letter&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            &quot;digit&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;name_tokenizer&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          &quot;type&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;ngram&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          &quot;min_gram&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          &quot;max_gram&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          &quot;token_chars&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            &quot;letter&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            &quot;digit&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;filter&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {// 自定义tokenizer filter</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;py&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{// </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">过滤器名称</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          &quot;type&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;pinyin&quot;,// 过滤器类型，这个自定义的过滤器使用的是pinyin分词器</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          &quot;keep_full_pinyin&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,//不要把单个字ch</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          &quot;keep_joined_full_pinyin&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,//把词语转成全拼</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          &quot;keep_original&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,//转完之后的中文保留</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          &quot;limit_first_letter_length&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 16</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,//转成的拼音首字母不能超过16个</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          &quot;remove_duplicated_term&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">,//转成的拼音不能有重复的，重复的删掉</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          &quot;none_chinese_pinyin_tokenize&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  &quot;mappings&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    &quot;properties&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;actualEndTime&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;type&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : &quot;date&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;format&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : &quot;yyyy-MM-dd HH:mm:ss&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;actualStartTime&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;type&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : &quot;date&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;format&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : &quot;yyyy-MM-dd HH:mm:ss&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;address&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;type&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : &quot;text&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;agencyId&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;type&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : &quot;long&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;courierId&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;type&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : &quot;long&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;created&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;type&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : &quot;date&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;format&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : &quot;yyyy-MM-dd HH:mm:ss&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;estimatedEndTime&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;type&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : &quot;date&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;format&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : &quot;yyyy-MM-dd HH:mm:ss&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;estimatedStartTime&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;type&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : &quot;date&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;format&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : &quot;yyyy-MM-dd HH:mm:ss&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;id&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;type&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : &quot;keyword&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;isDeleted&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;type&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : &quot;keyword&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;name&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;type&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : &quot;text&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;analyzer&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;name_analyzer&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;search_analyzer&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;keyword&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;orderId&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;type&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : &quot;long&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;phone&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;type&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : &quot;text&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;analyzer&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;code_analyzer&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;search_analyzer&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;keyword&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;status&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;type&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : &quot;keyword&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;taskType&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;type&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : &quot;keyword&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;transportOrderId&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;type&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : &quot;text&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;analyzer&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;code_analyzer&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;search_analyzer&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;keyword&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      &quot;updated&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;type&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : &quot;date&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        &quot;format&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> : &quot;yyyy-MM-dd HH:mm:ss&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h3 id="车辆轨迹-1" tabindex="-1">车辆轨迹 <a class="header-anchor" href="#车辆轨迹-1" aria-label="Permalink to &quot;车辆轨迹&quot;">​</a></h3><h4 id="业务流程-1" tabindex="-1">业务流程 <a class="header-anchor" href="#业务流程-1" aria-label="Permalink to &quot;业务流程&quot;">​</a></h4><p><img src="`+f+'" alt="" loading="lazy">#### 基础代码 在git中提供车辆轨迹微服务的基础代码，仅供实战参考。（学生可自行设计代码，不要求必须一样，能够实现业务功能即可)</p><table><thead><tr><th>工程名</th><th>git地址</th></tr></thead><tbody><tr><td>sl-express-ms-track-api</td><td><a href="http://git.sl-express.com/sl/sl-express-ms-track-api.git" target="_blank" rel="noreferrer">http://git.sl-express.com/sl/sl-express-ms-track-api.git</a></td></tr><tr><td>sl-express-ms-track-domain</td><td><a href="http://git.sl-express.com/sl/sl-express-ms-track-domain.git" target="_blank" rel="noreferrer">http://git.sl-express.com/sl/sl-express-ms-track-domain.git</a></td></tr><tr><td>sl-express-ms-track-service</td><td><a href="http://git.sl-express.com/sl/sl-express-ms-track-service.git" target="_blank" rel="noreferrer">http://git.sl-express.com/sl/sl-express-ms-track-service.git</a></td></tr></tbody></table><h4 id="实现提示-1" tabindex="-1">实现提示 <a class="header-anchor" href="#实现提示-1" aria-label="Permalink to &quot;实现提示&quot;">​</a></h4><p>实现思路：</p><ul><li>根据收发件人的地址通过高德地图查询路线数据，需要将转运节点作为途经点</li><li>解析高德返回的数据存储到MongoDB中，解析有一定难度</li></ul><h2 id="短信微服务" tabindex="-1">短信微服务 <a class="header-anchor" href="#短信微服务" aria-label="Permalink to &quot;短信微服务&quot;">​</a></h2><p>项目中需要搭建短信微服务，需要发送短信进行通知，在这里主要实现的业务是，运单开始派送时发送短信通知收件人。 基础代码，仅供实战参考。（学生可自行设计代码，不要求必须一样，能够实现业务功能即可）</p><table><thead><tr><th>工程名</th><th>git地址</th></tr></thead><tbody><tr><td>sl-express-ms-sms-domain</td><td><a href="http://git.sl-express.com/sl/sl-express-ms-sms-domain.git" target="_blank" rel="noreferrer">http://git.sl-express.com/sl/sl-express-ms-sms-domain.git</a></td></tr><tr><td>sl-express-ms-sms-api</td><td><a href="http://git.sl-express.com/sl/sl-express-ms-sms-api.git" target="_blank" rel="noreferrer">http://git.sl-express.com/sl/sl-express-ms-sms-api.git</a></td></tr><tr><td>sl-express-ms-sms-service</td><td><a href="http://git.sl-express.com/sl/sl-express-ms-sms-service.git" target="_blank" rel="noreferrer">http://git.sl-express.com/sl/sl-express-ms-sms-service.git</a></td></tr></tbody></table><blockquote><p>关于短信发送渠道，自行选择，不做强制要求。建议选择阿里云平台。</p></blockquote><h2 id="项目分组" tabindex="-1">项目分组 <a class="header-anchor" href="#项目分组" aria-label="Permalink to &quot;项目分组&quot;">​</a></h2><h3 id="时间安排" tabindex="-1">时间安排 <a class="header-anchor" href="#时间安排" aria-label="Permalink to &quot;时间安排&quot;">​</a></h3><p>此次项目实战安排2天课时（可以加一天自习调整为3天），具体的时间安排如下：</p><ul><li>第一天上午，由讲师带领学生了解项目实战中的内容</li><li>第一天的下午，第二天，第三天上午，这些时间段是学生实战开发的时间</li><li>第三天下午，成果演示</li></ul><h3 id="分组安排" tabindex="-1">分组安排 <a class="header-anchor" href="#分组安排" aria-label="Permalink to &quot;分组安排&quot;">​</a></h3><ul><li>将一个班的学生分成若干小组，每个小组成员5~6人，最多不超过8人。</li><li>每个小组选取一名组长，组长负责组员的任务分工。</li><li>每个组员都要参与开发，不得以任何接口拒绝组长安排的任务。</li><li>每个小组都需要完成实战中的三个功能（搜索、车辆轨迹、短信）的开发。</li></ul><h3 id="代码管理" tabindex="-1">代码管理 <a class="header-anchor" href="#代码管理" aria-label="Permalink to &quot;代码管理&quot;">​</a></h3><p>在项目开发的过程中，我们都是基于虚拟机中的git提交代码的，在分组实战中，需要将代码共享，同组人员公共修改代码，此时虚拟机中的git就无法满足需求了，在这里，可以借助<a href="https://gitee.com/" target="_blank" rel="noreferrer">码云</a>来完成共享。基本的架构如下： <img src="'+b+'" alt="" loading="lazy"> 说明：</p><ul><li>组长在码云中创建相应的项目，并且邀请组员成为开发者</li><li>组长将本地虚拟机环境中的git代码提交到码云（只需要提交实战中涉及到工程即可）</li><li>组员代码拉取到本地，即可进行项目开发，在开发完成后将代码提交到码云</li><li>待所有的功能开发完成后，组长将代码同步到本地虚拟机中的git中，最终基于组长的环境进行功能演示</li><li>同样，组员也将最终的代码同步到自己的本地环境中，提交到虚拟机中的git服务中</li><li>最终，所有人的本地虚拟机中的代码都应该是一致的</li></ul><h2 id="成果演示" tabindex="-1">成果演示 <a class="header-anchor" href="#成果演示" aria-label="Permalink to &quot;成果演示&quot;">​</a></h2><ul><li>每个组都需要准备一个演示ppt，在成果演示阶段使用，ppt风格不限</li><li>演示时，不仅是通过接口演示功能，还要通过四端进行演示，能够将完整的物流流程走通</li><li>如果有额外实现一些相关的功能，会有加分</li></ul>',52);function z(s,P,v,M,T,H){const e=t("ArticleMetadata"),h=t("ClientOnly");return l(),k("div",null,[x,r(h,null,{default:o(()=>{var i,a;return[(((i=s.$frontmatter)==null?void 0:i.aside)??!0)&&(((a=s.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(l(),g(e,{key:0,article:s.$frontmatter},null,8,["article"])):c("",!0)]}),_:1}),w])}const S=p(_,[["render",z]]);export{N as __pageData,S as default};
