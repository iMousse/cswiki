import{_ as m,E as h,c as g,J as r,w as n,m as t,a as d,V as _,o as l,b as p,e as c}from"./chunks/framework.syB9hai_.js";const u="/cswiki/assets/20230725163100101.b9ZFzsjV.jpg",k="/cswiki/assets/20230725163059433.xVbT20-J.jpg",f="/cswiki/assets/20230725163059891.m1rnf6n4.jpg",y="/cswiki/assets/20230725163059380.9Bhb7K0f.jpg",b="/cswiki/assets/20230725163100530.AUZwcOZQ.jpg",C="/cswiki/assets/20230725163059537.Xh6ObAQs.jpg",N="/cswiki/assets/20230725163059419.DPozDdTr.jpg",R=JSON.parse('{"title":"0.背景说明","description":"","frontmatter":{},"headers":[],"relativePath":"src/project/college/00-内网穿透.md","filePath":"src/project/college/00-内网穿透.md","lastUpdated":1730648753000}'),T={name:"src/project/college/00-内网穿透.md"},v=t("h1",{id:"_0-背景说明",tabindex:"-1"},[d("0.背景说明 "),t("a",{class:"header-anchor",href:"#_0-背景说明","aria-label":'Permalink to "0.背景说明"'},"​")],-1),w=t("p",null,"项目中的支付模块在于第三方支付服务通信时，为了确保支付、退款等业务能及时得到业务执行结果，支持两种业务模式：",-1),V=t("ul",null,[t("li",null,"基于第三方的回调通知"),t("li",null,"主动轮询")],-1),j=t("p",null,"以上两种模式默认都已开启，但是回调模式依赖于内网穿透，需要大家配置内网穿透信息。当然，如果不配置也可以，此时走轮询模式，查询支付或退款结果可能会有一定的延时（一般延时不超过30秒）。",-1),M=t("p",null,"接下来，我们介绍一下项目中的内网穿透配置方式。",-1),z=t("h1",{id:"_1-注册并开通隧道",tabindex:"-1"},[d("1.注册并开通隧道 "),t("a",{class:"header-anchor",href:"#_1-注册并开通隧道","aria-label":'Permalink to "1.注册并开通隧道"'},"​")],-1),B=_("",12),F=_("",15),A=t("p",null,"最后，我们还需要把内网穿透域名配置到支付微服务的配置参数（notif-url）中。由于我们是免费的隧道，所以每次重启该域名都会变化，都需要重新配置支付的参数。",-1),$=t("p",null,"为了便于大家配置，我将这个配置交给了Nacos管理：",-1),P=t("p",null,[t("img",{src:C,alt:"img",loading:"lazy"})],-1),Z=t("p",null,"点击编辑，进入配置：",-1),D=t("p",null,[t("img",{src:N,alt:"img",loading:"lazy"})],-1),E=t("p",null,"以后，每次重启虚拟机，都应该去cpolar的控制台查看最新的内网穿透域名，然后修改到这里。",-1);function Q(a,S,q,O,x,I){const i=h("ArticleMetadata"),o=h("ClientOnly");return l(),g("div",null,[v,r(o,null,{default:n(()=>{var e,s;return[(((e=a.$frontmatter)==null?void 0:e.aside)??!0)&&(((s=a.$frontmatter)==null?void 0:s.showArticleMetadata)??!0)?(l(),p(i,{key:0,article:a.$frontmatter},null,8,["article"])):c("",!0)]}),_:1}),w,V,j,M,z,r(o,null,{default:n(()=>{var e,s;return[(((e=a.$frontmatter)==null?void 0:e.aside)??!0)&&(((s=a.$frontmatter)==null?void 0:s.showArticleMetadata)??!0)?(l(),p(i,{key:0,article:a.$frontmatter},null,8,["article"])):c("",!0)]}),_:1}),B,r(o,null,{default:n(()=>{var e,s;return[(((e=a.$frontmatter)==null?void 0:e.aside)??!0)&&(((s=a.$frontmatter)==null?void 0:s.showArticleMetadata)??!0)?(l(),p(i,{key:0,article:a.$frontmatter},null,8,["article"])):c("",!0)]}),_:1}),F,r(o,null,{default:n(()=>{var e,s;return[(((e=a.$frontmatter)==null?void 0:e.aside)??!0)&&(((s=a.$frontmatter)==null?void 0:s.showArticleMetadata)??!0)?(l(),p(i,{key:0,article:a.$frontmatter},null,8,["article"])):c("",!0)]}),_:1}),A,$,P,Z,D,E])}const J=m(T,[["render",Q]]);export{R as __pageData,J as default};
